!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),u=r[n];n<o;u=r[++n])y(u)||!E(u)?s+=" "+u:s+=" "+a(u);return s},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,s={};function a(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,t,r.depth)}function u(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&v(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return m(i)||(i=l(t,i,r)),i}var o=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(g(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),w(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(v(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(O(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return h(n)}var c,E="",T=!1,P=["{","}"];(f(n)&&(T=!0,P=["[","]"]),v(n))&&(E=" [Function"+(n.name?": "+n.name:"")+"]");return O(n)&&(E=" "+RegExp.prototype.toString.call(n)),S(n)&&(E=" "+Date.prototype.toUTCString.call(n)),w(n)&&(E=" "+h(n)),0!==s.length||T&&0!=n.length?r<0?O(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=T?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)D(e,String(s))?o.push(p(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(t,e,n,r,i,!0))}),o}(t,n,r,a,s):s.map(function(e){return p(t,n,r,a,e,T)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,E,P)):P[0]+E+P[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),D(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=y(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function f(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function y(t){return null===t}function g(t){return"number"==typeof t}function m(t){return"string"==typeof t}function b(t){return void 0===t}function O(t){return E(t)&&"[object RegExp]"===T(t)}function E(t){return"object"==typeof t&&null!==t}function S(t){return E(t)&&"[object Date]"===T(t)}function w(t){return E(t)&&("[object Error]"===T(t)||t instanceof Error)}function v(t){return"function"==typeof t}function T(t){return Object.prototype.toString.call(t)}function P(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(b(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else s[n]=function(){};return s[n]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=f,e.isBoolean=d,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=O,e.isObject=E,e.isDate=S,e.isError=w,e.isFunction=v,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(2);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[P(t.getHours()),P(t.getMinutes()),P(t.getSeconds())].join(":"),[t.getDate(),I[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(3),e._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var _="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function A(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(_&&t[_]){var e;if("function"!=typeof(e=t[_]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,_,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(t,r){t?n(t):e(r)});try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),_&&Object.defineProperty(e,_,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=_,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,n).then(function(e){t.nextTick(s,null,e)},function(e){t.nextTick(A,e,s)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(1))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],l=!1,h=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&f())}function f(){if(!l){var t=a(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";n.r(e);const r={OBSTACLE_SPEED:4,SIDEWALK_SPEED:4,GAP_HEIGHT:150,OBSTACLE_WIDTH:150,OBSTACLE_HEIGHT:150,EDGE_BUFFER:50,OBSTACLE_SPACING:350,SIDEWALK_SPACING:150,WARM_UP_SECONDS:1,HOTDOG_STAND_WIDTH:300,HOTDOG_STAND_HEIGHT:350};var i=class{constructor(t){this.dimensions=t;const e=new Image;e.src="./assets/hot-dog-stand.png";const n=this.dimensions.width+60*r.WARM_UP_SECONDS*r.OBSTACLE_SPEED;this.sidewalkLines=[this.sidewalkLine(80),this.sidewalkLine(80+r.SIDEWALK_SPACING),this.sidewalkLine(80+2*r.SIDEWALK_SPACING)],this.hotdogStand={left:300,top:40,img:e},this.obstacleImg=new Image,this.obstacleImg.src="./assets/bush.png",this.obstacles=[this.randomObstacle(n),this.randomObstacle(n+r.OBSTACLE_SPACING),this.randomObstacle(n+2*r.OBSTACLE_SPACING)]}animate(t){this.drawBackground(t),this.moveSidewalkLines(),this.drawSidewalkLines(t),this.moveHotdogStand(),this.drawHotdogStand(t),this.moveObstacles(),this.drawObstacles(t)}drawBackground(t){t.fillStyle="#DDDDDD",t.fillRect(0,0,this.dimensions.width,this.dimensions.height);for(let e=1;e<4;e+=1.3)t.fillStyle="black",t.lineWidth=2,t.beginPath(),t.moveTo(0,3.8*r.EDGE_BUFFER*e),t.lineTo(480,3.8*r.EDGE_BUFFER*e),t.stroke()}sidewalkLine(t){return{left:t}}moveSidewalkLines(){if(this.eachSidewalkLine(t=>{t.left-=r.SIDEWALK_SPEED}),this.sidewalkLines[0].left<=0){this.sidewalkLines.shift();const t=this.sidewalkLines[1].left+r.SIDEWALK_SPACING;this.sidewalkLines.push(this.sidewalkLine(t))}}drawSidewalkLines(t){this.eachSidewalkLine(e=>{t.fillStyle="Black",t.lineWidth=2,t.beginPath(),t.moveTo(e.left,0),t.lineTo(e.left,640),t.stroke()})}eachSidewalkLine(t){this.sidewalkLines.forEach(t.bind(this))}moveHotdogStand(){this.hotdogStand.left-=r.SIDEWALK_SPEED}drawHotdogStand(t){t.drawImage(this.hotdogStand.img,this.hotdogStand.left,this.hotdogStand.top,r.HOTDOG_STAND_WIDTH,r.HOTDOG_STAND_HEIGHT)}randomObstacle(t){const e=this.dimensions.height-2*r.EDGE_BUFFER-r.GAP_HEIGHT,n=Math.random()*e+r.EDGE_BUFFER;return{img:this.obstacleImg,topObstacle:{left:t,right:r.OBSTACLE_WIDTH+t,top:n-r.OBSTACLE_HEIGHT,bottom:n},bottomObstacle:{left:t,right:r.OBSTACLE_WIDTH+t,top:n+r.GAP_HEIGHT,bottom:n+r.GAP_HEIGHT+r.OBSTACLE_HEIGHT}}}moveObstacles(){if(this.eachObstacle(t=>{t.topObstacle.left-=r.OBSTACLE_SPEED,t.topObstacle.right-=r.OBSTACLE_SPEED,t.bottomObstacle.left-=r.OBSTACLE_SPEED,t.bottomObstacle.right-=r.OBSTACLE_SPEED}),this.obstacles[0].topObstacle.right<=0){this.obstacles.shift();const t=this.obstacles[1].topObstacle.left+r.OBSTACLE_SPACING;this.obstacles.push(this.randomObstacle(t))}}drawObstacles(t){this.eachObstacle(e=>{t.drawImage(e.img,e.topObstacle.left,e.topObstacle.top,r.OBSTACLE_WIDTH,e.topObstacle.bottom-e.topObstacle.top),t.drawImage(e.img,e.bottomObstacle.left,e.bottomObstacle.top,r.OBSTACLE_WIDTH,e.bottomObstacle.bottom-e.bottomObstacle.top)})}eachObstacle(t){this.obstacles.forEach(t.bind(this))}collidesWith(t){let e=!1;const n=(t,e)=>{let n,r,i=(t.left+t.right)/2,o=(t.top+t.bottom)/2,s=t.right-i;return n=e.left>i?e.left:e.right<i?e.right:i,r=e.top>o?e.top:e.bottom<o?e.bottom:o,Math.hypot(n-i,r-o)<s};return this.eachObstacle(r=>{(n(r.topObstacle,t)||n(r.bottomObstacle,t))&&(e=!0)}),e}};var o=class{constructor(t){this.dimensions=t,this.x=this.dimensions.width/3,this.y=this.dimensions.height/1.5,this.scrX,this.scrY,this.sheetWidth=266,this.sheetHeight=200,this.frameCount=2,this.width=this.sheetWidth/this.frameCount,this.height=this.sheetHeight/this.frameCount,this.currentFrame=0,this.puppyImg=new Image,this.puppyImg.src="./assets/run-corgi-2.png"}movePuppy(t,e){this.x+=t,this.y+=e}animate(t){this.puppyID=setInterval(()=>{this.drawPuppy(t)},300)}updateFrame(){this.currentFrame=++this.currentFrame%this.frameCount,this.srcX=this.currentFrame*this.width,this.srcY=0}drawPuppy(t){this.updateFrame(),t.clearRect(0,0,480,640),t.drawImage(this.puppyImg,this.srcX,this.srcY,this.width,this.height,this.x,this.y,this.width,this.height)}bounds(){return{left:this.x+20,right:this.x+100,bottom:this.y+82,top:this.y+20}}outOfBounds(){const t=this.y<0,e=this.y+82>this.dimensions.height;return t||e}};const s={PUPPY_VELOCITY:-50};var a=class{constructor(t,e){this.ctx=t.getContext("2d"),this.playerCtx=e.getContext("2d"),this.dimensions={width:t.width,height:t.height},this.lose=!1,this.running=!1,this.playButton=document.getElementById("audio-button"),this.audioContext=new AudioContext,this.audioElement=document.getElementById("audio-background"),this.track=this.audioContext.createMediaElementSource(this.audioElement),this.score=0,this.registerEvents(),this.restart()}play(){this.running=!0,this.animate()}restart(){this.score=0,this.updateScore(),document.getElementsByClassName("start-msg")[0].style.display="flex",this.lose=!1,this.puppy=new o(this.dimensions),this.level=new i(this.dimensions),this.animate(),this.puppy.animate(this.playerCtx)}updateScore(){!1===this.lose?this.score+=1:this.score=0;let t=Number(this.score),e=Math.floor(t%3600/60),n=Math.floor(t%3600%60),r=("0"+e).slice(-2)+":"+("0"+n).slice(-2);document.getElementsByClassName("timer")[0].innerHTML=r}registerEvents(){this.boundKeyPressedHandler=this.keyPressed.bind(this),document.addEventListener("keydown",this.boundKeyPressedHandler),this.boundPlayButtonPressedHandler=this.playButtonPressed.bind(this),this.playButton.addEventListener("click",this.boundPlayButtonPressedHandler)}keyPressed(t){if(!this.running){document.getElementsByClassName("start-msg")[0].style.display="none",this.scoreID=setInterval(this.updateScore.bind(this),500),this.running=!0,this.play();let t=this.playButton.click();this.playButtonPressed(t)}let e=t.key||t.keycode;"Escape"==e&&"Esc"==e&&27==e||(38===e||"ArrowUp"==e?this.puppy.movePuppy(0,s.PUPPY_VELOCITY):40===e||"ArrowDown"==e?this.puppy.movePuppy(0,Math.abs(s.PUPPY_VELOCITY)):37===e||"ArrowLeft"==e?this.puppy.movePuppy(s.PUPPY_VELOCITY,0):39!==e&&"ArrowRight"!=e||this.puppy.movePuppy(Math.abs(s.PUPPY_VELOCITY),0))}playButtonPressed(t){this.track.connect(this.audioContext.destination),this.audioElement.crossOrigin="anonymous","suspended"===this.audioContext.state&&this.audioContext.resume(),"false"===t.currentTarget.dataset.playing?(this.audioElement.play(),t.currentTarget.dataset.playing="true"):"true"===t.currentTarget.dataset.playing&&(this.audioElement.pause(),t.currentTarget.dataset.playing="false")}highScores(){let t=document.getElementById("leaderboard");if("undefined"!=typeof Storage){let n=!1;if(localStorage["high-scores"]){t.style.display="block",t.innerHTML="",n=(n=JSON.parse(localStorage["high-scores"])).sort((t,e)=>parseInt(e)-parseInt(t));for(var e=0;e<10;e++){let r=n[e],i=document.createElement("li");i.setAttribute("class","leader"),i.innerHTML=void 0!==r?r:"",t.appendChild(i)}}}else t.style.display="none"}updateScores(){if("undefined"!=typeof Storage){let t=parseInt(this.score),e=!1;if(localStorage["high-scores"]){e=(e=JSON.parse(localStorage["high-scores"])).sort(function(t,e){return parseInt(e)-parseInt(t)});for(let n=0;n<10;n++){let r=parseInt(e[n]),i=isNaN(r)?0:r;if(t>i){i=t,e.splice(n,0,parseInt(t));break}}e.length=10,localStorage["high-scores"]=JSON.stringify(e)}else{let e=new Array;e[0]=t,localStorage["high-scores"]=JSON.stringify(e)}this.highScores()}}gameOver(){return this.level.collidesWith(this.puppy.bounds())||this.puppy.outOfBounds(this.height)}animate(){this.level.animate(this.ctx),this.gameOver()&&(this.lose=!0,this.running=!1,alert(this.score),this.updateScores(),clearInterval(this.puppy.puppyID),clearInterval(this.scoreID),this.restart()),this.running&&(this.requestId=requestAnimationFrame(this.animate.bind(this)))}};n(0);new a(document.getElementById("chili-dog-game"),document.getElementById("player"))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dGlsL3N1cHBvcnQvaXNCdWZmZXJCcm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9sZXZlbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcHVwcHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicHJvY2VzcyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJvYmoiLCJrZXlzIiwiZGVzY3JpcHRvcnMiLCJsZW5ndGgiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJmb3JtYXRSZWdFeHAiLCJmb3JtYXQiLCJmIiwiaXNTdHJpbmciLCJvYmplY3RzIiwiYXJndW1lbnRzIiwicHVzaCIsImluc3BlY3QiLCJqb2luIiwiYXJncyIsImxlbiIsInN0ciIsIlN0cmluZyIsInJlcGxhY2UiLCJ4IiwiTnVtYmVyIiwiSlNPTiIsInN0cmluZ2lmeSIsIl8iLCJpc051bGwiLCJpc09iamVjdCIsImRlcHJlY2F0ZSIsImZuIiwibXNnIiwibm9EZXByZWNhdGlvbiIsImFwcGx5IiwidGhpcyIsIndhcm5lZCIsInRocm93RGVwcmVjYXRpb24iLCJFcnJvciIsInRyYWNlRGVwcmVjYXRpb24iLCJjb25zb2xlIiwidHJhY2UiLCJlcnJvciIsImRlYnVnRW52aXJvbiIsImRlYnVncyIsIm9wdHMiLCJjdHgiLCJzZWVuIiwic3R5bGl6ZSIsInN0eWxpemVOb0NvbG9yIiwiZGVwdGgiLCJjb2xvcnMiLCJpc0Jvb2xlYW4iLCJzaG93SGlkZGVuIiwiX2V4dGVuZCIsImlzVW5kZWZpbmVkIiwiY3VzdG9tSW5zcGVjdCIsInN0eWxpemVXaXRoQ29sb3IiLCJmb3JtYXRWYWx1ZSIsInN0eWxlVHlwZSIsInN0eWxlIiwic3R5bGVzIiwicmVjdXJzZVRpbWVzIiwiaXNGdW5jdGlvbiIsImNvbnN0cnVjdG9yIiwicmV0IiwicHJpbWl0aXZlIiwic2ltcGxlIiwiaXNOdW1iZXIiLCJmb3JtYXRQcmltaXRpdmUiLCJ2aXNpYmxlS2V5cyIsImFycmF5IiwiaGFzaCIsImZvckVhY2giLCJ2YWwiLCJpZHgiLCJhcnJheVRvSGFzaCIsImdldE93blByb3BlcnR5TmFtZXMiLCJpc0Vycm9yIiwiaW5kZXhPZiIsImZvcm1hdEVycm9yIiwiaXNSZWdFeHAiLCJSZWdFeHAiLCJ0b1N0cmluZyIsImlzRGF0ZSIsIkRhdGUiLCJvdXRwdXQiLCJiYXNlIiwiYnJhY2VzIiwiaXNBcnJheSIsInRvVVRDU3RyaW5nIiwiZm9ybWF0UHJvcGVydHkiLCJtYXRjaCIsImZvcm1hdEFycmF5IiwibWFwIiwicG9wIiwicmVkdWNlIiwicHJldiIsImN1ciIsIm51bUxpbmVzRXN0IiwicmVkdWNlVG9TaW5nbGVTdHJpbmciLCJkZXNjIiwic2V0Iiwic3BsaXQiLCJsaW5lIiwic3Vic3RyIiwiYXIiLCJBcnJheSIsImFyZyIsInJlIiwib2JqZWN0VG9TdHJpbmciLCJlIiwicGFkIiwiZGVidWdsb2ciLCJlbnYiLCJOT0RFX0RFQlVHIiwidG9VcHBlckNhc2UiLCJ0ZXN0IiwicGlkIiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImludmVyc2UiLCJ3aGl0ZSIsImdyZXkiLCJibGFjayIsImJsdWUiLCJjeWFuIiwiZ3JlZW4iLCJtYWdlbnRhIiwicmVkIiwieWVsbG93Iiwic3BlY2lhbCIsIm51bWJlciIsImJvb2xlYW4iLCJ1bmRlZmluZWQiLCJudWxsIiwic3RyaW5nIiwiZGF0ZSIsInJlZ2V4cCIsImlzTnVsbE9yVW5kZWZpbmVkIiwiaXNTeW1ib2wiLCJpc1ByaW1pdGl2ZSIsImlzQnVmZmVyIiwibW9udGhzIiwicHJvcCIsImxvZyIsInRpbWUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiaW5oZXJpdHMiLCJvcmlnaW4iLCJhZGQiLCJrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wiLCJjYWxsYmFja2lmeU9uUmVqZWN0ZWQiLCJyZWFzb24iLCJjYiIsIm5ld1JlYXNvbiIsInByb21pc2lmeSIsIm9yaWdpbmFsIiwiVHlwZUVycm9yIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJwcm9taXNlUmVzb2x2ZSIsInByb21pc2VSZWplY3QiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlcnIiLCJzZXRQcm90b3R5cGVPZiIsImdldFByb3RvdHlwZU9mIiwiZGVmaW5lUHJvcGVydGllcyIsImN1c3RvbSIsImNhbGxiYWNraWZ5IiwiY2FsbGJhY2tpZmllZCIsIm1heWJlQ2IiLCJzZWxmIiwidGhlbiIsIm5leHRUaWNrIiwicmVqIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImNvbmNhdCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsIm5vb3AiLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJjb3B5IiwiZmlsbCIsInJlYWRVSW50OCIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJUZW1wQ3RvciIsIkNPTlNUQU5UUyIsIk9CU1RBQ0xFX1NQRUVEIiwiU0lERVdBTEtfU1BFRUQiLCJHQVBfSEVJR0hUIiwiT0JTVEFDTEVfV0lEVEgiLCJPQlNUQUNMRV9IRUlHSFQiLCJFREdFX0JVRkZFUiIsIk9CU1RBQ0xFX1NQQUNJTkciLCJTSURFV0FMS19TUEFDSU5HIiwiV0FSTV9VUF9TRUNPTkRTIiwiSE9URE9HX1NUQU5EX1dJRFRIIiwiSE9URE9HX1NUQU5EX0hFSUdIVCIsImxldmVsIiwiW29iamVjdCBPYmplY3RdIiwiZGltZW5zaW9ucyIsImhvdGRvZ1N0YW5kSW1nIiwiSW1hZ2UiLCJzcmMiLCJmaXJzdE9ic3RhY2xlRGlzdGFuY2UiLCJ3aWR0aCIsInNpZGV3YWxrTGluZXMiLCJzaWRld2Fsa0xpbmUiLCJob3Rkb2dTdGFuZCIsImxlZnQiLCJ0b3AiLCJpbWciLCJvYnN0YWNsZUltZyIsIm9ic3RhY2xlcyIsInJhbmRvbU9ic3RhY2xlIiwiZHJhd0JhY2tncm91bmQiLCJtb3ZlU2lkZXdhbGtMaW5lcyIsImRyYXdTaWRld2Fsa0xpbmVzIiwibW92ZUhvdGRvZ1N0YW5kIiwiZHJhd0hvdGRvZ1N0YW5kIiwibW92ZU9ic3RhY2xlcyIsImRyYXdPYnN0YWNsZXMiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImhlaWdodCIsImxpbmVXaWR0aCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImVhY2hTaWRld2Fsa0xpbmUiLCJzaGlmdCIsIm5ld1giLCJkcmF3SW1hZ2UiLCJoZWlnaHRSYW5nZSIsImdhcFRvcCIsIk1hdGgiLCJyYW5kb20iLCJ0b3BPYnN0YWNsZSIsInJpZ2h0IiwiYm90dG9tIiwiYm90dG9tT2JzdGFjbGUiLCJlYWNoT2JzdGFjbGUiLCJvYnN0YWNsZSIsInB1cHB5IiwiY29sbGlzaW9uIiwiX292ZXJsYXAiLCJjbG9zZXN0WCIsImNsb3Nlc3RZIiwiY2VudGVyWCIsImNlbnRlclkiLCJjaXJjbGVSYWRpdXMiLCJoeXBvdCIsInkiLCJzY3JYIiwic2NyWSIsInNoZWV0V2lkdGgiLCJzaGVldEhlaWdodCIsImZyYW1lQ291bnQiLCJjdXJyZW50RnJhbWUiLCJwdXBweUltZyIsImRlbHRhWCIsImRlbHRhWSIsInB1cHB5SUQiLCJzZXRJbnRlcnZhbCIsImRyYXdQdXBweSIsInNyY1giLCJzcmNZIiwidXBkYXRlRnJhbWUiLCJjbGVhclJlY3QiLCJhYm92ZVRvcCIsImJlbG93Qm90dG9tIiwiZ2FtZV9DT05TVEFOVFMiLCJQVVBQWV9WRUxPQ0lUWSIsImdhbWUiLCJjYW52YXMiLCJwbGF5ZXJDYW52YXMiLCJnZXRDb250ZXh0IiwicGxheWVyQ3R4IiwibG9zZSIsInJ1bm5pbmciLCJwbGF5QnV0dG9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImF1ZGlvQ29udGV4dCIsIkF1ZGlvQ29udGV4dCIsImF1ZGlvRWxlbWVudCIsInRyYWNrIiwiY3JlYXRlTWVkaWFFbGVtZW50U291cmNlIiwic2NvcmUiLCJyZWdpc3RlckV2ZW50cyIsInJlc3RhcnQiLCJhbmltYXRlIiwidXBkYXRlU2NvcmUiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZGlzcGxheSIsInJhd1Njb3JlIiwiZmxvb3IiLCJmb3JtYXR0ZWRTY29yZSIsInNsaWNlIiwiaW5uZXJIVE1MIiwiYm91bmRLZXlQcmVzc2VkSGFuZGxlciIsImtleVByZXNzZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiYm91bmRQbGF5QnV0dG9uUHJlc3NlZEhhbmRsZXIiLCJwbGF5QnV0dG9uUHJlc3NlZCIsInNjb3JlSUQiLCJwbGF5IiwiY2xpY2siLCJrZXljb2RlIiwibW92ZVB1cHB5IiwiYWJzIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwiY3Jvc3NPcmlnaW4iLCJzdGF0ZSIsInJlc3VtZSIsImN1cnJlbnRUYXJnZXQiLCJkYXRhc2V0IiwicGxheWluZyIsInBhdXNlIiwiaGlnaF9zY29yZXMiLCJzY29yZXMiLCJsb2NhbFN0b3JhZ2UiLCJwYXJzZSIsInNvcnQiLCJhIiwiYiIsInBhcnNlSW50IiwiZnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJjdXJyZW50IiwiaXNOYU4iLCJzcGxpY2UiLCJoaWdoU2NvcmVzIiwiY29sbGlkZXNXaXRoIiwiYm91bmRzIiwib3V0T2ZCb3VuZHMiLCJnYW1lT3ZlciIsImFsZXJ0IiwidXBkYXRlU2NvcmVzIiwiY2xlYXJJbnRlcnZhbCIsInJlcXVlc3RJZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixF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TixNQUFBMkksYUFBQTVWLEtBQUErUCxNQUFBOEYsV0FBQTdWLEtBQUErUCxNQUFBK0YsWUFBQTlWLEtBQUEyTyxRQUlBekIsVUFDQWxOLEtBQUFpTixNQUFBOEYsUUFBQS9TLEtBQUFXLEtBRUFYLEtBQUErVixhQUNBL1YsS0FBQWtTLE1BQUEsRUFDQWxTLEtBQUFtUyxTQUFBLEVBQ0E2RCxNQUFBaFcsS0FBQTRTLE9BQ0E1UyxLQUFBaVcsZUFDQUMsY0FBQWxXLEtBQUErUCxNQUFBbUIsU0FDQWdGLGNBQUFsVyxLQUFBNlQsU0FDQTdULEtBQUE4UyxXQUdBOVMsS0FBQW1TLFVBQ0FuUyxLQUFBbVcsVUFBQUMsc0JBQUFwVyxLQUFBK1MsUUFBQXhWLEtBQUF5QyxlQ3RMQSxJQUFJNlIsRUFISlEsU0FBQUMsZUFBQSxrQkFDQUQsU0FBQUMsZUFBQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNCk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyB8fFxuICBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iaikge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB2YXIgZGVzY3JpcHRvcnMgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRlc2NyaXB0b3JzW2tleXNbaV1dID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVzY3JpcHRvcnM7XG4gIH07XG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3Mubm9EZXByZWNhdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG4gIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBkZXByZWNhdGVkKCkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICBpZiAocHJvY2Vzcy50aHJvd0RlcHJlY2F0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24pIHtcbiAgICAgICAgY29uc29sZS50cmFjZShtc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgfVxuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICByZXR1cm4gZGVwcmVjYXRlZDtcbn07XG5cblxudmFyIGRlYnVncyA9IHt9O1xudmFyIGRlYnVnRW52aXJvbjtcbmV4cG9ydHMuZGVidWdsb2cgPSBmdW5jdGlvbihzZXQpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKGRlYnVnRW52aXJvbikpXG4gICAgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJztcbiAgc2V0ID0gc2V0LnRvVXBwZXJDYXNlKCk7XG4gIGlmICghZGVidWdzW3NldF0pIHtcbiAgICBpZiAobmV3IFJlZ0V4cCgnXFxcXGInICsgc2V0ICsgJ1xcXFxiJywgJ2knKS50ZXN0KGRlYnVnRW52aXJvbikpIHtcbiAgICAgIHZhciBwaWQgPSBwcm9jZXNzLnBpZDtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtc2cgPSBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCclcyAlZDogJXMnLCBzZXQsIHBpZCwgbXNnKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7fTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlYnVnc1tzZXRdO1xufTtcblxuXG4vKipcbiAqIEVjaG9zIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcnlzIHRvIHByaW50IHRoZSB2YWx1ZSBvdXRcbiAqIGluIHRoZSBiZXN0IHdheSBwb3NzaWJsZSBnaXZlbiB0aGUgZGlmZmVyZW50IHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBwcmludCBvdXQuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBPcHRpb25hbCBvcHRpb25zIG9iamVjdCB0aGF0IGFsdGVycyB0aGUgb3V0cHV0LlxuICovXG4vKiBsZWdhY3k6IG9iaiwgc2hvd0hpZGRlbiwgZGVwdGgsIGNvbG9ycyovXG5mdW5jdGlvbiBpbnNwZWN0KG9iaiwgb3B0cykge1xuICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgdmFyIGN0eCA9IHtcbiAgICBzZWVuOiBbXSxcbiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvclxuICB9O1xuICAvLyBsZWdhY3kuLi5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuICBpZiAoaXNCb29sZWFuKG9wdHMpKSB7XG4gICAgLy8gbGVnYWN5Li4uXG4gICAgY3R4LnNob3dIaWRkZW4gPSBvcHRzO1xuICB9IGVsc2UgaWYgKG9wdHMpIHtcbiAgICAvLyBnb3QgYW4gXCJvcHRpb25zXCIgb2JqZWN0XG4gICAgZXhwb3J0cy5fZXh0ZW5kKGN0eCwgb3B0cyk7XG4gIH1cbiAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmRlcHRoKSkgY3R4LmRlcHRoID0gMjtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jb2xvcnMpKSBjdHguY29sb3JzID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTtcbiAgaWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvcjtcbiAgcmV0dXJuIGZvcm1hdFZhbHVlKGN0eCwgb2JqLCBjdHguZGVwdGgpO1xufVxuZXhwb3J0cy5pbnNwZWN0ID0gaW5zcGVjdDtcblxuXG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3Ncbmluc3BlY3QuY29sb3JzID0ge1xuICAnYm9sZCcgOiBbMSwgMjJdLFxuICAnaXRhbGljJyA6IFszLCAyM10sXG4gICd1bmRlcmxpbmUnIDogWzQsIDI0XSxcbiAgJ2ludmVyc2UnIDogWzcsIDI3XSxcbiAgJ3doaXRlJyA6IFszNywgMzldLFxuICAnZ3JleScgOiBbOTAsIDM5XSxcbiAgJ2JsYWNrJyA6IFszMCwgMzldLFxuICAnYmx1ZScgOiBbMzQsIDM5XSxcbiAgJ2N5YW4nIDogWzM2LCAzOV0sXG4gICdncmVlbicgOiBbMzIsIDM5XSxcbiAgJ21hZ2VudGEnIDogWzM1LCAzOV0sXG4gICdyZWQnIDogWzMxLCAzOV0sXG4gICd5ZWxsb3cnIDogWzMzLCAzOV1cbn07XG5cbi8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZVxuaW5zcGVjdC5zdHlsZXMgPSB7XG4gICdzcGVjaWFsJzogJ2N5YW4nLFxuICAnbnVtYmVyJzogJ3llbGxvdycsXG4gICdib29sZWFuJzogJ3llbGxvdycsXG4gICd1bmRlZmluZWQnOiAnZ3JleScsXG4gICdudWxsJzogJ2JvbGQnLFxuICAnc3RyaW5nJzogJ2dyZWVuJyxcbiAgJ2RhdGUnOiAnbWFnZW50YScsXG4gIC8vIFwibmFtZVwiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nXG4gICdyZWdleHAnOiAncmVkJ1xufTtcblxuXG5mdW5jdGlvbiBzdHlsaXplV2l0aENvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHZhciBzdHlsZSA9IGluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV07XG5cbiAgaWYgKHN0eWxlKSB7XG4gICAgcmV0dXJuICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgK1xuICAgICAgICAgICAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzFdICsgJ20nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICByZXR1cm4gc3RyO1xufVxuXG5cbmZ1bmN0aW9uIGFycmF5VG9IYXNoKGFycmF5KSB7XG4gIHZhciBoYXNoID0ge307XG5cbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbih2YWwsIGlkeCkge1xuICAgIGhhc2hbdmFsXSA9IHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBoYXNoO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcykge1xuICAvLyBQcm92aWRlIGEgaG9vayBmb3IgdXNlci1zcGVjaWZpZWQgaW5zcGVjdCBmdW5jdGlvbnMuXG4gIC8vIENoZWNrIHRoYXQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYW4gaW5zcGVjdCBmdW5jdGlvbiBvbiBpdFxuICBpZiAoY3R4LmN1c3RvbUluc3BlY3QgJiZcbiAgICAgIHZhbHVlICYmXG4gICAgICBpc0Z1bmN0aW9uKHZhbHVlLmluc3BlY3QpICYmXG4gICAgICAvLyBGaWx0ZXIgb3V0IHRoZSB1dGlsIG1vZHVsZSwgaXQncyBpbnNwZWN0IGZ1bmN0aW9uIGlzIHNwZWNpYWxcbiAgICAgIHZhbHVlLmluc3BlY3QgIT09IGV4cG9ydHMuaW5zcGVjdCAmJlxuICAgICAgLy8gQWxzbyBmaWx0ZXIgb3V0IGFueSBwcm90b3R5cGUgb2JqZWN0cyB1c2luZyB0aGUgY2lyY3VsYXIgY2hlY2suXG4gICAgICAhKHZhbHVlLmNvbnN0cnVjdG9yICYmIHZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9PT0gdmFsdWUpKSB7XG4gICAgdmFyIHJldCA9IHZhbHVlLmluc3BlY3QocmVjdXJzZVRpbWVzLCBjdHgpO1xuICAgIGlmICghaXNTdHJpbmcocmV0KSkge1xuICAgICAgcmV0ID0gZm9ybWF0VmFsdWUoY3R4LCByZXQsIHJlY3Vyc2VUaW1lcyk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvLyBQcmltaXRpdmUgdHlwZXMgY2Fubm90IGhhdmUgcHJvcGVydGllc1xuICB2YXIgcHJpbWl0aXZlID0gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpO1xuICBpZiAocHJpbWl0aXZlKSB7XG4gICAgcmV0dXJuIHByaW1pdGl2ZTtcbiAgfVxuXG4gIC8vIExvb2sgdXAgdGhlIGtleXMgb2YgdGhlIG9iamVjdC5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gIHZhciB2aXNpYmxlS2V5cyA9IGFycmF5VG9IYXNoKGtleXMpO1xuXG4gIGlmIChjdHguc2hvd0hpZGRlbikge1xuICAgIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIH1cblxuICAvLyBJRSBkb2Vzbid0IG1ha2UgZXJyb3IgZmllbGRzIG5vbi1lbnVtZXJhYmxlXG4gIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kd3c1MnNidCh2PXZzLjk0KS5hc3B4XG4gIGlmIChpc0Vycm9yKHZhbHVlKVxuICAgICAgJiYgKGtleXMuaW5kZXhPZignbWVzc2FnZScpID49IDAgfHwga2V5cy5pbmRleE9mKCdkZXNjcmlwdGlvbicpID49IDApKSB7XG4gICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIC8vIFNvbWUgdHlwZSBvZiBvYmplY3Qgd2l0aG91dCBwcm9wZXJ0aWVzIGNhbiBiZSBzaG9ydGN1dHRlZC5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbRnVuY3Rpb24nICsgbmFtZSArICddJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9XG4gICAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ2RhdGUnKTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBiYXNlID0gJycsIGFycmF5ID0gZmFsc2UsIGJyYWNlcyA9IFsneycsICd9J107XG5cbiAgLy8gTWFrZSBBcnJheSBzYXkgdGhhdCB0aGV5IGFyZSBBcnJheVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhcnJheSA9IHRydWU7XG4gICAgYnJhY2VzID0gWydbJywgJ10nXTtcbiAgfVxuXG4gIC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9uc1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgbiA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgIGJhc2UgPSAnIFtGdW5jdGlvbicgKyBuICsgJ10nO1xuICB9XG5cbiAgLy8gTWFrZSBSZWdFeHBzIHNheSB0aGF0IHRoZXkgYXJlIFJlZ0V4cHNcbiAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBkYXRlcyB3aXRoIHByb3BlcnRpZXMgZmlyc3Qgc2F5IHRoZSBkYXRlXG4gIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIERhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBlcnJvciB3aXRoIG1lc3NhZ2UgZmlyc3Qgc2F5IHRoZSBlcnJvclxuICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwICYmICghYXJyYXkgfHwgdmFsdWUubGVuZ3RoID09IDApKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyBicmFjZXNbMV07XG4gIH1cblxuICBpZiAocmVjdXJzZVRpbWVzIDwgMCkge1xuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW09iamVjdF0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuXG4gIGN0eC5zZWVuLnB1c2godmFsdWUpO1xuXG4gIHZhciBvdXRwdXQ7XG4gIGlmIChhcnJheSkge1xuICAgIG91dHB1dCA9IGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpO1xuICB9IGVsc2Uge1xuICAgIG91dHB1dCA9IGtleXMubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgY3R4LnNlZW4ucG9wKCk7XG5cbiAgcmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSkge1xuICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcpO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFyIHNpbXBsZSA9ICdcXCcnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpLnJlcGxhY2UoL15cInxcIiQvZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpICsgJ1xcJyc7XG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKHNpbXBsZSwgJ3N0cmluZycpO1xuICB9XG4gIGlmIChpc051bWJlcih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKTtcbiAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdib29sZWFuJyk7XG4gIC8vIEZvciBzb21lIHJlYXNvbiB0eXBlb2YgbnVsbCBpcyBcIm9iamVjdFwiLCBzbyBzcGVjaWFsIGNhc2UgaGVyZS5cbiAgaWYgKGlzTnVsbCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCdudWxsJywgJ251bGwnKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkge1xuICByZXR1cm4gJ1snICsgRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICsgJ10nO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgU3RyaW5nKGkpKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBTdHJpbmcoaSksIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0LnB1c2goJycpO1xuICAgIH1cbiAgfVxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIGtleSwgdHJ1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSkge1xuICB2YXIgbmFtZSwgc3RyLCBkZXNjO1xuICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KSB8fCB7IHZhbHVlOiB2YWx1ZVtrZXldIH07XG4gIGlmIChkZXNjLmdldCkge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tTZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh2aXNpYmxlS2V5cywga2V5KSkge1xuICAgIG5hbWUgPSAnWycgKyBrZXkgKyAnXSc7XG4gIH1cbiAgaWYgKCFzdHIpIHtcbiAgICBpZiAoY3R4LnNlZW4uaW5kZXhPZihkZXNjLnZhbHVlKSA8IDApIHtcbiAgICAgIGlmIChpc051bGwocmVjdXJzZVRpbWVzKSkge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCByZWN1cnNlVGltZXMgLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJykuc3Vic3RyKDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9ICdcXG4nICsgc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0NpcmN1bGFyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmIChpc1VuZGVmaW5lZChuYW1lKSkge1xuICAgIGlmIChhcnJheSAmJiBrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBuYW1lID0gSlNPTi5zdHJpbmdpZnkoJycgKyBrZXkpO1xuICAgIGlmIChuYW1lLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDEsIG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ25hbWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJylcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheXCJ8XCIkKS9nLCBcIidcIik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ3N0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lICsgJzogJyArIHN0cjtcbn1cblxuXG5mdW5jdGlvbiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcykge1xuICB2YXIgbnVtTGluZXNFc3QgPSAwO1xuICB2YXIgbGVuZ3RoID0gb3V0cHV0LnJlZHVjZShmdW5jdGlvbihwcmV2LCBjdXIpIHtcbiAgICBudW1MaW5lc0VzdCsrO1xuICAgIGlmIChjdXIuaW5kZXhPZignXFxuJykgPj0gMCkgbnVtTGluZXNFc3QrKztcbiAgICByZXR1cm4gcHJldiArIGN1ci5yZXBsYWNlKC9cXHUwMDFiXFxbXFxkXFxkP20vZywgJycpLmxlbmd0aCArIDE7XG4gIH0sIDApO1xuXG4gIGlmIChsZW5ndGggPiA2MCkge1xuICAgIHJldHVybiBicmFjZXNbMF0gK1xuICAgICAgICAgICAoYmFzZSA9PT0gJycgPyAnJyA6IGJhc2UgKyAnXFxuICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgb3V0cHV0LmpvaW4oJyxcXG4gICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgYnJhY2VzWzFdO1xuICB9XG5cbiAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyAnICcgKyBvdXRwdXQuam9pbignLCAnKSArICcgJyArIGJyYWNlc1sxXTtcbn1cblxuXG4vLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuZnVuY3Rpb24gaXNBcnJheShhcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5leHBvcnRzLmlzU3ltYm9sID0gaXNTeW1ib2w7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzRGF0ZShkKSB7XG4gIHJldHVybiBpc09iamVjdChkKSAmJiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcblxuZXhwb3J0cy5pc0J1ZmZlciA9IHJlcXVpcmUoJy4vc3VwcG9ydC9pc0J1ZmZlcicpO1xuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLFxuICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuLy8gMjYgRmViIDE2OjE5OjM0XG5mdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG4gIHZhciBkID0gbmV3IERhdGUoKTtcbiAgdmFyIHRpbWUgPSBbcGFkKGQuZ2V0SG91cnMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oJzonKTtcbiAgcmV0dXJuIFtkLmdldERhdGUoKSwgbW9udGhzW2QuZ2V0TW9udGgoKV0sIHRpbWVdLmpvaW4oJyAnKTtcbn1cblxuXG4vLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCgpLCBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpKTtcbn07XG5cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuICogZnVuY3Rpb24gKG5vdCBvbiBGdW5jdGlvbi5wcm90b3R5cGUpLiBOT1RFOiBJZiB0aGlzIGZpbGUgaXMgdG8gYmUgbG9hZGVkXG4gKiBkdXJpbmcgYm9vdHN0cmFwcGluZyB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJld3JpdHRlbiB1c2luZyBzb21lIG5hdGl2ZVxuICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG4gKiBleHBlY3RlZCBkdXJpbmcgYm9vdHN0cmFwcGluZyAoc2VlIG1pcnJvci5qcyBpbiByMTE0OTAzKS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG4gKiAgICAgcHJvdG90eXBlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGluaGVyaXQgcHJvdG90eXBlIGZyb20uXG4gKi9cbmV4cG9ydHMuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5leHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxudmFyIGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnID8gU3ltYm9sKCd1dGlsLnByb21pc2lmeS5jdXN0b20nKSA6IHVuZGVmaW5lZDtcblxuZXhwb3J0cy5wcm9taXNpZnkgPSBmdW5jdGlvbiBwcm9taXNpZnkob3JpZ2luYWwpIHtcbiAgaWYgKHR5cGVvZiBvcmlnaW5hbCAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJvcmlnaW5hbFwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuXG4gIGlmIChrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wgJiYgb3JpZ2luYWxba0N1c3RvbVByb21pc2lmaWVkU3ltYm9sXSkge1xuICAgIHZhciBmbiA9IG9yaWdpbmFsW2tDdXN0b21Qcm9taXNpZmllZFN5bWJvbF07XG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidXRpbC5wcm9taXNpZnkuY3VzdG9tXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sLCB7XG4gICAgICB2YWx1ZTogZm4sIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZuKCkge1xuICAgIHZhciBwcm9taXNlUmVzb2x2ZSwgcHJvbWlzZVJlamVjdDtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHByb21pc2VSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIHByb21pc2VSZWplY3QgPSByZWplY3Q7XG4gICAgfSk7XG5cbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG4gICAgYXJncy5wdXNoKGZ1bmN0aW9uIChlcnIsIHZhbHVlKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHByb21pc2VSZWplY3QoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb21pc2VSZXNvbHZlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRyeSB7XG4gICAgICBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHByb21pc2VSZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihmbiwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9yaWdpbmFsKSk7XG5cbiAgaWYgKGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wsIHtcbiAgICB2YWx1ZTogZm4sIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFxuICAgIGZuLFxuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob3JpZ2luYWwpXG4gICk7XG59XG5cbmV4cG9ydHMucHJvbWlzaWZ5LmN1c3RvbSA9IGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbFxuXG5mdW5jdGlvbiBjYWxsYmFja2lmeU9uUmVqZWN0ZWQocmVhc29uLCBjYikge1xuICAvLyBgIXJlYXNvbmAgZ3VhcmQgaW5zcGlyZWQgYnkgYmx1ZWJpcmQgKFJlZjogaHR0cHM6Ly9nb28uZ2wvdDVJUzZNKS5cbiAgLy8gQmVjYXVzZSBgbnVsbGAgaXMgYSBzcGVjaWFsIGVycm9yIHZhbHVlIGluIGNhbGxiYWNrcyB3aGljaCBtZWFucyBcIm5vIGVycm9yXG4gIC8vIG9jY3VycmVkXCIsIHdlIGVycm9yLXdyYXAgc28gdGhlIGNhbGxiYWNrIGNvbnN1bWVyIGNhbiBkaXN0aW5ndWlzaCBiZXR3ZWVuXG4gIC8vIFwidGhlIHByb21pc2UgcmVqZWN0ZWQgd2l0aCBudWxsXCIgb3IgXCJ0aGUgcHJvbWlzZSBmdWxmaWxsZWQgd2l0aCB1bmRlZmluZWRcIi5cbiAgaWYgKCFyZWFzb24pIHtcbiAgICB2YXIgbmV3UmVhc29uID0gbmV3IEVycm9yKCdQcm9taXNlIHdhcyByZWplY3RlZCB3aXRoIGEgZmFsc3kgdmFsdWUnKTtcbiAgICBuZXdSZWFzb24ucmVhc29uID0gcmVhc29uO1xuICAgIHJlYXNvbiA9IG5ld1JlYXNvbjtcbiAgfVxuICByZXR1cm4gY2IocmVhc29uKTtcbn1cblxuZnVuY3Rpb24gY2FsbGJhY2tpZnkob3JpZ2luYWwpIHtcbiAgaWYgKHR5cGVvZiBvcmlnaW5hbCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcIm9yaWdpbmFsXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG4gIH1cblxuICAvLyBXZSBETyBOT1QgcmV0dXJuIHRoZSBwcm9taXNlIGFzIGl0IGdpdmVzIHRoZSB1c2VyIGEgZmFsc2Ugc2Vuc2UgdGhhdFxuICAvLyB0aGUgcHJvbWlzZSBpcyBhY3R1YWxseSBzb21laG93IHJlbGF0ZWQgdG8gdGhlIGNhbGxiYWNrJ3MgZXhlY3V0aW9uXG4gIC8vIGFuZCB0aGF0IHRoZSBjYWxsYmFjayB0aHJvd2luZyB3aWxsIHJlamVjdCB0aGUgcHJvbWlzZS5cbiAgZnVuY3Rpb24gY2FsbGJhY2tpZmllZCgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG5cbiAgICB2YXIgbWF5YmVDYiA9IGFyZ3MucG9wKCk7XG4gICAgaWYgKHR5cGVvZiBtYXliZUNiICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGFzdCBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcbiAgICB9XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBjYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG1heWJlQ2IuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIC8vIEluIHRydWUgbm9kZSBzdHlsZSB3ZSBwcm9jZXNzIHRoZSBjYWxsYmFjayBvbiBgbmV4dFRpY2tgIHdpdGggYWxsIHRoZVxuICAgIC8vIGltcGxpY2F0aW9ucyAoc3RhY2ssIGB1bmNhdWdodEV4Y2VwdGlvbmAsIGBhc3luY19ob29rc2ApXG4gICAgb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncylcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJldCkgeyBwcm9jZXNzLm5leHRUaWNrKGNiLCBudWxsLCByZXQpIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihyZWopIHsgcHJvY2Vzcy5uZXh0VGljayhjYWxsYmFja2lmeU9uUmVqZWN0ZWQsIHJlaiwgY2IpIH0pO1xuICB9XG5cbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGNhbGxiYWNraWZpZWQsIE9iamVjdC5nZXRQcm90b3R5cGVPZihvcmlnaW5hbCkpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjYWxsYmFja2lmaWVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9yaWdpbmFsKSk7XG4gIHJldHVybiBjYWxsYmFja2lmaWVkO1xufVxuZXhwb3J0cy5jYWxsYmFja2lmeSA9IGNhbGxiYWNraWZ5O1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7XG4gIHJldHVybiBhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCdcbiAgICAmJiB0eXBlb2YgYXJnLmNvcHkgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLmZpbGwgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLnJlYWRVSW50OCA9PT0gJ2Z1bmN0aW9uJztcbn0iLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cbiIsImNvbnN0IENPTlNUQU5UUyA9IHtcbiAgT0JTVEFDTEVfU1BFRUQ6IDQsXG4gIFNJREVXQUxLX1NQRUVEOiA0LFxuICBHQVBfSEVJR0hUOiAxNTAsXG4gIE9CU1RBQ0xFX1dJRFRIOiAxNTAsXG4gIE9CU1RBQ0xFX0hFSUdIVDogMTUwLFxuICBFREdFX0JVRkZFUjogNTAsXG4gIE9CU1RBQ0xFX1NQQUNJTkc6IDM1MCxcbiAgU0lERVdBTEtfU1BBQ0lORzogMTUwLFxuICBXQVJNX1VQX1NFQ09ORFM6IDEsXG4gIEhPVERPR19TVEFORF9XSURUSDogMzAwLFxuICBIT1RET0dfU1RBTkRfSEVJR0hUOiAzNTBcbn07XG5cbmNsYXNzIExldmVsIHtcbiAgY29uc3RydWN0b3IoZGltZW5zaW9ucykge1xuICAgIHRoaXMuZGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XG5cbiAgICBjb25zdCBob3Rkb2dTdGFuZEltZyA9IG5ldyBJbWFnZSgpO1xuICAgIGhvdGRvZ1N0YW5kSW1nLnNyYyA9IFwiLi9hc3NldHMvaG90LWRvZy1zdGFuZC5wbmdcIjtcbiAgICBjb25zdCBmaXJzdFNpZGV3YWxrTGluZURpc3RhbmNlID0gKDgwKTtcbiAgICBjb25zdCBmaXJzdE9ic3RhY2xlRGlzdGFuY2UgPSB0aGlzLmRpbWVuc2lvbnMud2lkdGggK1xuICAgICAgKENPTlNUQU5UUy5XQVJNX1VQX1NFQ09ORFMgKiA2MCAqIENPTlNUQU5UUy5PQlNUQUNMRV9TUEVFRCk7XG5cbiAgICB0aGlzLnNpZGV3YWxrTGluZXMgPSBbXG4gICAgICB0aGlzLnNpZGV3YWxrTGluZShmaXJzdFNpZGV3YWxrTGluZURpc3RhbmNlKSxcbiAgICAgIHRoaXMuc2lkZXdhbGtMaW5lKGZpcnN0U2lkZXdhbGtMaW5lRGlzdGFuY2UgKyBDT05TVEFOVFMuU0lERVdBTEtfU1BBQ0lORyksXG4gICAgICB0aGlzLnNpZGV3YWxrTGluZShmaXJzdFNpZGV3YWxrTGluZURpc3RhbmNlICsgKENPTlNUQU5UUy5TSURFV0FMS19TUEFDSU5HICogMikpXG4gICAgXVxuXG4gICAgdGhpcy5ob3Rkb2dTdGFuZCA9IHtcbiAgICAgIGxlZnQ6IDMwMCxcbiAgICAgIHRvcDogNDAsXG4gICAgICBpbWc6IGhvdGRvZ1N0YW5kSW1nXG4gICAgfVxuXG4gICAgdGhpcy5vYnN0YWNsZUltZyA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMub2JzdGFjbGVJbWcuc3JjID0gXCIuL2Fzc2V0cy9idXNoLnBuZ1wiO1xuXG4gICAgdGhpcy5vYnN0YWNsZXMgPSBbXG4gICAgICB0aGlzLnJhbmRvbU9ic3RhY2xlKGZpcnN0T2JzdGFjbGVEaXN0YW5jZSksXG4gICAgICB0aGlzLnJhbmRvbU9ic3RhY2xlKGZpcnN0T2JzdGFjbGVEaXN0YW5jZSArIENPTlNUQU5UUy5PQlNUQUNMRV9TUEFDSU5HKSxcbiAgICAgIHRoaXMucmFuZG9tT2JzdGFjbGUoZmlyc3RPYnN0YWNsZURpc3RhbmNlICsgKENPTlNUQU5UUy5PQlNUQUNMRV9TUEFDSU5HICogMikpXG4gICAgXVxuICAgIFxuICB9XG5cbiAgYW5pbWF0ZShjdHgpIHtcbiAgICB0aGlzLmRyYXdCYWNrZ3JvdW5kKGN0eCk7XG4gICAgdGhpcy5tb3ZlU2lkZXdhbGtMaW5lcygpO1xuICAgIHRoaXMuZHJhd1NpZGV3YWxrTGluZXMoY3R4KTtcbiAgICB0aGlzLm1vdmVIb3Rkb2dTdGFuZCgpO1xuICAgIHRoaXMuZHJhd0hvdGRvZ1N0YW5kKGN0eCk7XG4gICAgdGhpcy5tb3ZlT2JzdGFjbGVzKCk7XG4gICAgdGhpcy5kcmF3T2JzdGFjbGVzKGN0eCk7XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQmFja2dyb3VuZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy9cbiAgZHJhd0JhY2tncm91bmQoY3R4KSB7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjREREREREJztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5kaW1lbnNpb25zLndpZHRoLCB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0KVxuICBcbiAgICAvLyBob3Jpem9udGFsIHNpZGV3YWxrIGxpbmVzXG4gICAgZm9yKGxldCBpID0xOyBpIDwgNDsgaSs9MS4zKSB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gXCJibGFja1wiLFxuICAgICAgY3R4LmxpbmVXaWR0aCA9IDIuMCxcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8oMCwgQ09OU1RBTlRTLkVER0VfQlVGRkVSICogMy44ICogaSk7XG4gICAgICBjdHgubGluZVRvKDQ4MCwgQ09OU1RBTlRTLkVER0VfQlVGRkVSICogMy44ICogaSk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gdmVydGljYWwgc2lkZXdhbGsgbGluZXNcbiAgc2lkZXdhbGtMaW5lKHgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogeFxuICAgIH1cbiAgfVxuXG4gIG1vdmVTaWRld2Fsa0xpbmVzKCkge1xuICAgIHRoaXMuZWFjaFNpZGV3YWxrTGluZShsaW5lID0+IHtcbiAgICAgIGxpbmUubGVmdCAtPSBDT05TVEFOVFMuU0lERVdBTEtfU1BFRUQ7XG4gICAgfSlcblxuICAgIGlmICh0aGlzLnNpZGV3YWxrTGluZXNbMF0ubGVmdCA8PSAwKSB7XG4gICAgICB0aGlzLnNpZGV3YWxrTGluZXMuc2hpZnQoKTtcbiAgICAgIGNvbnN0IG5ld1ggPSB0aGlzLnNpZGV3YWxrTGluZXNbMV0ubGVmdCArIENPTlNUQU5UUy5TSURFV0FMS19TUEFDSU5HO1xuICAgICAgdGhpcy5zaWRld2Fsa0xpbmVzLnB1c2godGhpcy5zaWRld2Fsa0xpbmUobmV3WCkpO1xuICAgIH1cbiAgfVxuXG4gIGRyYXdTaWRld2Fsa0xpbmVzKGN0eCkge1xuICAgIHRoaXMuZWFjaFNpZGV3YWxrTGluZShsaW5lID0+IHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBcIkJsYWNrXCI7XG5cbiAgICAgIGN0eC5saW5lV2lkdGggPSAyLjAsXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKGxpbmUubGVmdCwgMCk7XG4gICAgICBjdHgubGluZVRvKGxpbmUubGVmdCwgNjQwKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGVhY2hTaWRld2Fsa0xpbmUoY2IpIHtcbiAgICB0aGlzLnNpZGV3YWxrTGluZXMuZm9yRWFjaChjYi5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU3RhcnQgU2NyZWVuIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xuICBcbiAgbW92ZUhvdGRvZ1N0YW5kKCkge1xuICAgIHRoaXMuaG90ZG9nU3RhbmQubGVmdCAtPSBDT05TVEFOVFMuU0lERVdBTEtfU1BFRUQ7XG4gIH1cblxuICBkcmF3SG90ZG9nU3RhbmQoY3R4KSB7XG4gICAgY3R4LmRyYXdJbWFnZShcbiAgICAgIHRoaXMuaG90ZG9nU3RhbmQuaW1nLFxuICAgICAgdGhpcy5ob3Rkb2dTdGFuZC5sZWZ0LFxuICAgICAgdGhpcy5ob3Rkb2dTdGFuZC50b3AsXG4gICAgICBDT05TVEFOVFMuSE9URE9HX1NUQU5EX1dJRFRILFxuICAgICAgQ09OU1RBTlRTLkhPVERPR19TVEFORF9IRUlHSFRcbiAgICApO1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIExldmVsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vXG5cbiAgLy8gT2JzdGFjbGVzIHYuMiBwYXNzIGluIG5vdCBqdXN0IHggYnV0IGEgcmFuZG9tIG9ic3RhY2xlLiBTZXQgdGhlIGF0dGlyYnV0ZXMgdG8gYmUgdGhhdCB2ZXJpb25zXG4gIHJhbmRvbU9ic3RhY2xlKHgpIHtcbiAgICBjb25zdCBoZWlnaHRSYW5nZSA9IHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgLSAoMiAqIENPTlNUQU5UUy5FREdFX0JVRkZFUikgLSBDT05TVEFOVFMuR0FQX0hFSUdIVDtcbiAgICBjb25zdCBnYXBUb3AgPSAoTWF0aC5yYW5kb20oKSAqIGhlaWdodFJhbmdlKSArIENPTlNUQU5UUy5FREdFX0JVRkZFUjtcbiAgICBjb25zdCBvYnN0YWNsZSA9IHtcbiAgICAgIGltZzogdGhpcy5vYnN0YWNsZUltZyxcblxuICAgICAgdG9wT2JzdGFjbGU6IHtcbiAgICAgICAgbGVmdDogeCxcbiAgICAgICAgcmlnaHQ6IENPTlNUQU5UUy5PQlNUQUNMRV9XSURUSCArIHgsXG4gICAgICAgIHRvcDogZ2FwVG9wIC0gQ09OU1RBTlRTLk9CU1RBQ0xFX0hFSUdIVCxcbiAgICAgICAgYm90dG9tOiBnYXBUb3BcbiAgICAgIH0sXG4gICAgICBib3R0b21PYnN0YWNsZToge1xuICAgICAgICBsZWZ0OiB4LFxuICAgICAgICByaWdodDogQ09OU1RBTlRTLk9CU1RBQ0xFX1dJRFRIICsgeCxcbiAgICAgICAgdG9wOiBnYXBUb3AgKyBDT05TVEFOVFMuR0FQX0hFSUdIVCxcbiAgICAgICAgYm90dG9tOiBnYXBUb3AgKyBDT05TVEFOVFMuR0FQX0hFSUdIVCArIENPTlNUQU5UUy5PQlNUQUNMRV9IRUlHSFRcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JzdGFjbGU7XG4gIH1cblxuICBtb3ZlT2JzdGFjbGVzKCkge1xuICAgIHRoaXMuZWFjaE9ic3RhY2xlKCBvYnN0YWNsZSA9PiB7XG4gICAgICBvYnN0YWNsZS50b3BPYnN0YWNsZS5sZWZ0IC09IENPTlNUQU5UUy5PQlNUQUNMRV9TUEVFRDtcbiAgICAgIG9ic3RhY2xlLnRvcE9ic3RhY2xlLnJpZ2h0IC09IENPTlNUQU5UUy5PQlNUQUNMRV9TUEVFRDtcbiAgICAgIG9ic3RhY2xlLmJvdHRvbU9ic3RhY2xlLmxlZnQgLT0gQ09OU1RBTlRTLk9CU1RBQ0xFX1NQRUVEO1xuICAgICAgb2JzdGFjbGUuYm90dG9tT2JzdGFjbGUucmlnaHQgLT0gQ09OU1RBTlRTLk9CU1RBQ0xFX1NQRUVEO1xuICAgIH0pXG4gICAgXG4gICAgaWYgKHRoaXMub2JzdGFjbGVzWzBdLnRvcE9ic3RhY2xlLnJpZ2h0IDw9IDApIHtcbiAgICAgIHRoaXMub2JzdGFjbGVzLnNoaWZ0KCk7XG4gICAgICBjb25zdCBuZXdYID0gdGhpcy5vYnN0YWNsZXNbMV0udG9wT2JzdGFjbGUubGVmdCArIENPTlNUQU5UUy5PQlNUQUNMRV9TUEFDSU5HO1xuICAgICAgdGhpcy5vYnN0YWNsZXMucHVzaCh0aGlzLnJhbmRvbU9ic3RhY2xlKG5ld1gpKTtcbiAgICB9XG4gIH1cblxuICBkcmF3T2JzdGFjbGVzKGN0eCkge1xuICAgIHRoaXMuZWFjaE9ic3RhY2xlKG9ic3RhY2xlID0+IHtcblxuICAgICAgLy8gKHgsIHksIHcsIGgpXG4gICAgICBjdHguZHJhd0ltYWdlKFxuICAgICAgICBvYnN0YWNsZS5pbWcsXG4gICAgICAgIG9ic3RhY2xlLnRvcE9ic3RhY2xlLmxlZnQsXG4gICAgICAgIG9ic3RhY2xlLnRvcE9ic3RhY2xlLnRvcCxcbiAgICAgICAgQ09OU1RBTlRTLk9CU1RBQ0xFX1dJRFRILFxuICAgICAgICBvYnN0YWNsZS50b3BPYnN0YWNsZS5ib3R0b20gLSBvYnN0YWNsZS50b3BPYnN0YWNsZS50b3BcbiAgICAgICk7XG5cbiAgICAgIGN0eC5kcmF3SW1hZ2UoXG4gICAgICAgIG9ic3RhY2xlLmltZyxcbiAgICAgICAgb2JzdGFjbGUuYm90dG9tT2JzdGFjbGUubGVmdCxcbiAgICAgICAgb2JzdGFjbGUuYm90dG9tT2JzdGFjbGUudG9wLFxuICAgICAgICBDT05TVEFOVFMuT0JTVEFDTEVfV0lEVEgsXG4gICAgICAgIG9ic3RhY2xlLmJvdHRvbU9ic3RhY2xlLmJvdHRvbSAtIG9ic3RhY2xlLmJvdHRvbU9ic3RhY2xlLnRvcFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIGVhY2hPYnN0YWNsZShjYikge1xuICAgIHRoaXMub2JzdGFjbGVzLmZvckVhY2goY2IuYmluZCh0aGlzKSk7XG4gIH1cblxuIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1DT0xMSVNJT04tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xuICBjb2xsaWRlc1dpdGgocHVwcHkpIHtcbiAgICBsZXQgY29sbGlzaW9uID0gZmFsc2UgXG5cbiAgICAvLyBjaGVjayBjaXJjbGUgb2JzdGFjbGUgdG8gcHVwcHlcbiAgICBjb25zdCBfb3ZlcmxhcCA9IChvYnN0YWNsZSwgcHVwcHkpID0+IHtcbiAgICAgIFxuICAgICAgLy8gRm9yIGNpcmNsZSBvYnN0YWNsZXMgZmluZCB0aGUgbWlkZGxlIHBvaW50IG9mIHRoZSBvYnN0YWNsZVxuICAgICAgbGV0IGNlbnRlclggPSAoKG9ic3RhY2xlLmxlZnQgKyBvYnN0YWNsZS5yaWdodCkgLyAyKTtcbiAgICAgIGxldCBjZW50ZXJZID0gKChvYnN0YWNsZS50b3AgKyBvYnN0YWNsZS5ib3R0b20pIC8gMik7XG4gICAgICBsZXQgY2lyY2xlUmFkaXVzID0gb2JzdGFjbGUucmlnaHQgLSBjZW50ZXJYO1xuXG4gICAgICAvLyBmaW5kIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHB1cHB5IHJlY3RhbmdsZSB0byB0aGUgY2lyY2xlIG9ic3RhY2xlXG4gICAgICBsZXQgY2xvc2VzdFg7XG4gICAgICBsZXQgY2xvc2VzdFk7XG4gICAgICAvLyBjaGVjayBpZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGUgb2JzdGFjbGUgaXMgdG8gdGhlIGxlZnQgb2YgdGhlIHB1cHB5IHJlY3RhbmdsZSBldGMuXG4gICAgICBpZiAocHVwcHkubGVmdCA+IGNlbnRlclgpIHtcbiAgICAgICAgY2xvc2VzdFggPSBwdXBweS5sZWZ0O1xuICAgICAgfSBlbHNlIGlmIChwdXBweS5yaWdodCA8IGNlbnRlclgpIHtcbiAgICAgICAgY2xvc2VzdFggPSBwdXBweS5yaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsb3Nlc3RYID0gY2VudGVyWDtcbiAgICAgIH1cbiAgICAgIC8vIGNoZWNrIGlmIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZSBvYnN0YWNsZSBpcyB0byB0aGUgdG9wIG9mIHRoZSBwdXBweSByZWN0YW5nbGUgZXRjLlxuICAgICAgaWYgKHB1cHB5LnRvcCA+IGNlbnRlclkpIHtcbiAgICAgICAgY2xvc2VzdFkgPSBwdXBweS50b3A7XG4gICAgICB9IGVsc2UgaWYgKHB1cHB5LmJvdHRvbSA8IGNlbnRlclkpIHtcbiAgICAgICAgY2xvc2VzdFkgPSBwdXBweS5ib3R0b207XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbG9zZXN0WSA9IGNlbnRlclk7XG4gICAgICB9XG5cbiAgICAgIC8vIGNoZWNrIGlmIHRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBwdXBweSByZWN0YW5nbGUgaXMgaW5zaWRlIHRoZSBjaXJjbGUgb2JzdGFjbGVcbiAgICAgIGxldCBkaXN0ID0gTWF0aC5oeXBvdChjbG9zZXN0WCAtIGNlbnRlclgsIGNsb3Nlc3RZIC0gY2VudGVyWSk7XG4gICAgICBcbiAgICAgIGlmICggZGlzdCA8IGNpcmNsZVJhZGl1cykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICBcbiAgICAgIC8vIGNoZWNrIHJlY3RhbmdsZSBvYnN0YWNsZSB0byBwdXBweVxuICAgICAgLy8gaWYgKChvYnN0YWNsZS5sZWZ0ICsgMTApID4gcHVwcHkucmlnaHQgfHwgKG9ic3RhY2xlLnJpZ2h0IC0gMTApIDwgcHVwcHkubGVmdCB8fFxuICAgICAgLy8gICAgIChvYnN0YWNsZS50b3AgKyAxMCkgPiBwdXBweS5ib3R0b20gfHwgKG9ic3RhY2xlLmJvdHRvbSAtIDEwKSA8IHB1cHB5LnRvcClcbiAgICAgIC8vIHtcbiAgICAgIC8vICAgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gfVxuXG4gICAgICAvLyByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLy8gT2JzdGFjbGVzIDIuMCBjaGVjayBpZiBvYnN0YWNsZSBpcyBhIGNpcmNsZSBvciBhIHJlY3RhbmdsZSwgY2FsbCBhcHByb3ByaWF0ZSBvdmVybGFwIGZ1bmN0aW9uXG4gICAgdGhpcy5lYWNoT2JzdGFjbGUob2JzdGFjbGUgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBfb3ZlcmxhcChvYnN0YWNsZS50b3BPYnN0YWNsZSwgcHVwcHkpIHx8IFxuICAgICAgICBfb3ZlcmxhcChvYnN0YWNsZS5ib3R0b21PYnN0YWNsZSwgcHVwcHkpXG4gICAgICApIHsgY29sbGlzaW9uID0gdHJ1ZTsgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNvbGxpc2lvbjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMZXZlbDsiLCJjbGFzcyBQdXBweSB7XG4gIGNvbnN0cnVjdG9yKGRpbWVuc2lvbnMpIHtcbiAgICB0aGlzLmRpbWVuc2lvbnMgPSBkaW1lbnNpb25zO1xuICAgIHRoaXMueCA9IHRoaXMuZGltZW5zaW9ucy53aWR0aCAvIDM7XG4gICAgdGhpcy55ID0gdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDEuNTtcbiAgICB0aGlzLnNjclg7XG4gICAgdGhpcy5zY3JZO1xuICAgIHRoaXMuc2hlZXRXaWR0aCA9IDI2NjtcbiAgICB0aGlzLnNoZWV0SGVpZ2h0ID0gMjAwO1xuICAgIHRoaXMuZnJhbWVDb3VudCA9IDI7XG4gICAgdGhpcy53aWR0aCA9IHRoaXMuc2hlZXRXaWR0aCAvIHRoaXMuZnJhbWVDb3VudDtcbiAgICB0aGlzLmhlaWdodCA9IHRoaXMuc2hlZXRIZWlnaHQgLyB0aGlzLmZyYW1lQ291bnQ7XG4gICAgdGhpcy5jdXJyZW50RnJhbWUgPSAwO1xuXG4gICAgdGhpcy5wdXBweUltZyA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMucHVwcHlJbWcuc3JjID0gXCIuL2Fzc2V0cy9ydW4tY29yZ2ktMi5wbmdcIjtcbiAgfVxuXG4gIG1vdmVQdXBweShkZWx0YVgsIGRlbHRhWSkge1xuICAgIHRoaXMueCArPSBkZWx0YVg7XG4gICAgdGhpcy55ICs9IGRlbHRhWTtcbiAgfVxuXG4gIGFuaW1hdGUoY3R4KSB7XG4gICAgdGhpcy5wdXBweUlEID0gc2V0SW50ZXJ2YWwoKCkgPT4geyB0aGlzLmRyYXdQdXBweShjdHgpOyB9LCAzMDApO1xuICB9XG4gXG4gIHVwZGF0ZUZyYW1lKCkge1xuICAgIHRoaXMuY3VycmVudEZyYW1lID0gKyt0aGlzLmN1cnJlbnRGcmFtZSAlIHRoaXMuZnJhbWVDb3VudDtcbiAgICB0aGlzLnNyY1ggPSB0aGlzLmN1cnJlbnRGcmFtZSAqIHRoaXMud2lkdGg7XG4gICAgdGhpcy5zcmNZID0gMDtcbiAgfVxuXG4gIGRyYXdQdXBweShjdHgpIHtcbiAgICB0aGlzLnVwZGF0ZUZyYW1lKCk7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCA0ODAsIDY0MCk7XG4gICAgY3R4LmRyYXdJbWFnZShcbiAgICAgIHRoaXMucHVwcHlJbWcsXG4gICAgICB0aGlzLnNyY1gsXG4gICAgICB0aGlzLnNyY1ksXG4gICAgICB0aGlzLndpZHRoLFxuICAgICAgdGhpcy5oZWlnaHQsXG4gICAgICB0aGlzLngsXG4gICAgICB0aGlzLnksXG4gICAgICB0aGlzLndpZHRoLFxuICAgICAgdGhpcy5oZWlnaHRcbiAgICApXG4gIH1cblxuICBib3VuZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IHRoaXMueCArIDIwLFxuICAgICAgcmlnaHQ6IHRoaXMueCArIDEwMCxcbiAgICAgIGJvdHRvbTogdGhpcy55ICsgODIsXG4gICAgICB0b3A6IHRoaXMueSArIDIwLFxuICAgIH1cbiAgfVxuXG4gIG91dE9mQm91bmRzKCkge1xuICAgIGNvbnN0IGFib3ZlVG9wID0gdGhpcy55IDwgMDtcbiAgICBjb25zdCBiZWxvd0JvdHRvbSA9IHRoaXMueSArIDgyID4gdGhpcy5kaW1lbnNpb25zLmhlaWdodDtcbiAgICByZXR1cm4gYWJvdmVUb3AgfHwgYmVsb3dCb3R0b207XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBQdXBweTsiLCJpbXBvcnQgTGV2ZWwgZnJvbSAnLi9sZXZlbCc7XG5pbXBvcnQgUHVwcHkgZnJvbSAnLi9wdXBweSc7XG5cbmNvbnN0IENPTlNUQU5UUyA9IHtcbiAgUFVQUFlfVkVMT0NJVFk6IC01MCxcbn07XG5cbmNsYXNzIEdhbWUge1xuICBjb25zdHJ1Y3RvcihjYW52YXMsIHBsYXllckNhbnZhcykge1xuICAgIHRoaXMuY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICB0aGlzLnBsYXllckN0eCA9IHBsYXllckNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgdGhpcy5kaW1lbnNpb25zID0geyB3aWR0aDogY2FudmFzLndpZHRoLCBoZWlnaHQ6IGNhbnZhcy5oZWlnaHQgfTtcbiAgICBcbiAgICB0aGlzLmxvc2UgPSBmYWxzZTsgIFxuICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgIFxuICAgIHRoaXMucGxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdWRpby1idXR0b24nKTtcbiAgICB0aGlzLmF1ZGlvQ29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgICB0aGlzLmF1ZGlvRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdWRpby1iYWNrZ3JvdW5kJyk7XG4gICAgdGhpcy50cmFjayA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSh0aGlzLmF1ZGlvRWxlbWVudCk7XG4gICAgXG4gICAgdGhpcy5zY29yZSA9IDA7XG5cbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnRzKCk7XG4gICAgdGhpcy5yZXN0YXJ0KCk7XG4gIH1cblxuICBwbGF5KCkge1xuICAgIHRoaXMucnVubmluZyA9IHRydWU7XG4gICAgdGhpcy5hbmltYXRlKCk7XG4gIH1cblxuICByZXN0YXJ0KCkge1xuICAgIGRlYnVnZ2VyXG4gICAgdGhpcy5zY29yZSA9IDA7XG4gICAgdGhpcy51cGRhdGVTY29yZSgpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzdGFydC1tc2dcIilbMF0uc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIHRoaXMubG9zZSA9IGZhbHNlO1xuICAgIHRoaXMucHVwcHkgPSBuZXcgUHVwcHkodGhpcy5kaW1lbnNpb25zKTtcbiAgICB0aGlzLmxldmVsID0gbmV3IExldmVsKHRoaXMuZGltZW5zaW9ucyk7XG4gICAgdGhpcy5hbmltYXRlKCk7XG4gICAgdGhpcy5wdXBweS5hbmltYXRlKHRoaXMucGxheWVyQ3R4KTtcbiAgfVxuXG4gIHVwZGF0ZVNjb3JlKCkge1xuICAgIGlmICh0aGlzLmxvc2UgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLnNjb3JlICs9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2NvcmUgPSAwO1xuICAgIH1cblxuICAgIGxldCByYXdTY29yZSA9IE51bWJlcih0aGlzLnNjb3JlKTtcbiAgICBsZXQgbSA9IE1hdGguZmxvb3IocmF3U2NvcmUgJSAzNjAwIC8gNjApO1xuICAgIGxldCBzID0gTWF0aC5mbG9vcihyYXdTY29yZSAlIDM2MDAgJSA2MCk7XG4gICAgbGV0IGZvcm1hdHRlZFNjb3JlID0gKCcwJyArIG0pLnNsaWNlKC0yKSArIFwiOlwiICsgKCcwJyArIHMpLnNsaWNlKC0yKTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0aW1lclwiKVswXS5pbm5lckhUTUwgPSBmb3JtYXR0ZWRTY29yZTtcbiAgfVxuXG4gIHJlZ2lzdGVyRXZlbnRzKCkge1xuICAgIHRoaXMuYm91bmRLZXlQcmVzc2VkSGFuZGxlciA9IHRoaXMua2V5UHJlc3NlZC5iaW5kKHRoaXMpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuYm91bmRLZXlQcmVzc2VkSGFuZGxlcik7XG4gICAgXG4gICAgdGhpcy5ib3VuZFBsYXlCdXR0b25QcmVzc2VkSGFuZGxlciA9IHRoaXMucGxheUJ1dHRvblByZXNzZWQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnBsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuYm91bmRQbGF5QnV0dG9uUHJlc3NlZEhhbmRsZXIpO1xuICB9XG5cbiAga2V5UHJlc3NlZChlKSB7XG5cbiAgICBpZiAoIXRoaXMucnVubmluZykge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInN0YXJ0LW1zZ1wiKVswXS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB0aGlzLnNjb3JlSUQgPSBzZXRJbnRlcnZhbCh0aGlzLnVwZGF0ZVNjb3JlLmJpbmQodGhpcyksIDUwMCk7XG4gICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuICAgICAgdGhpcy5wbGF5KCk7XG5cbiAgICAgIGxldCBlID0gdGhpcy5wbGF5QnV0dG9uLmNsaWNrKCk7XG4gICAgICB0aGlzLnBsYXlCdXR0b25QcmVzc2VkKGUpO1xuICAgIH1cblxuICAgIGxldCBrZXkgPSBlLmtleSB8fCBlLmtleWNvZGU7XG5cbiAgICBpZiAoa2V5ICE9ICdFc2NhcGUnIHx8IGtleSAhPSAnRXNjJyB8fCBrZXkgIT0gMjcpIHtcbiAgICAgIGlmIChrZXkgPT09IDM4IHx8IGtleSA9PSBcIkFycm93VXBcIikge1xuICAgICAgICB0aGlzLnB1cHB5Lm1vdmVQdXBweSgwLCBDT05TVEFOVFMuUFVQUFlfVkVMT0NJVFkpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09IDQwIHx8IGtleSA9PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgIHRoaXMucHVwcHkubW92ZVB1cHB5KDAsIE1hdGguYWJzKENPTlNUQU5UUy5QVVBQWV9WRUxPQ0lUWSkpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09IDM3IHx8IGtleSA9PSBcIkFycm93TGVmdFwiKSB7XG4gICAgICAgIHRoaXMucHVwcHkubW92ZVB1cHB5KENPTlNUQU5UUy5QVVBQWV9WRUxPQ0lUWSwgMCk7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gMzkgfHwga2V5ID09IFwiQXJyb3dSaWdodFwiKSB7XG4gICAgICAgIHRoaXMucHVwcHkubW92ZVB1cHB5KE1hdGguYWJzKENPTlNUQU5UUy5QVVBQWV9WRUxPQ0lUWSksIDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHBsYXlCdXR0b25QcmVzc2VkKGUpIHtcbiAgICB0aGlzLnRyYWNrLmNvbm5lY3QodGhpcy5hdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIHRoaXMuYXVkaW9FbGVtZW50LmNyb3NzT3JpZ2luID0gXCJhbm9ueW1vdXNcIjtcbiAgICBcbiAgICBpZiAodGhpcy5hdWRpb0NvbnRleHQuc3RhdGUgPT09ICdzdXNwZW5kZWQnKSB7XG4gICAgICB0aGlzLmF1ZGlvQ29udGV4dC5yZXN1bWUoKTtcbiAgICB9XG4gICAgaWYgKGUuY3VycmVudFRhcmdldC5kYXRhc2V0LnBsYXlpbmcgPT09ICdmYWxzZScpIHtcbiAgICAgIHRoaXMuYXVkaW9FbGVtZW50LnBsYXkoKTtcbiAgICAgIGUuY3VycmVudFRhcmdldC5kYXRhc2V0LnBsYXlpbmcgPSAndHJ1ZSc7XG4gICAgfSBlbHNlIGlmIChlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5wbGF5aW5nID09PSAndHJ1ZScpIHtcbiAgICAgIHRoaXMuYXVkaW9FbGVtZW50LnBhdXNlKCk7XG4gICAgICBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5wbGF5aW5nID0gJ2ZhbHNlJztcbiAgICB9XG4gIH1cblxuICAvLyBzZXR1cCBoaWdoc2NvcmVzIGluIGxvY2Fsc3RvcmVhZ2VcbiAgLy8gY3JlZGl0OiBodHRwczovL3d3dy5kZXZlbG9wZXJkcml2ZS5jb20vMjAxMy8wOS9odG1sNS1qYXZhc2NyaXB0LWdlbS1nYW1lLXdpdGgtc2F2ZWQtc2NvcmVib2FyZC9cbiAgaGlnaFNjb3JlcygpIHtcbiAgICBsZXQgaGlnaF9zY29yZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlYWRlcmJvYXJkXCIpO1xuICAgIGlmICh0eXBlb2YgKFN0b3JhZ2UpICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBsZXQgc2NvcmVzID0gZmFsc2U7XG4gICAgICBpZiAobG9jYWxTdG9yYWdlW1wiaGlnaC1zY29yZXNcIl0pIHtcbiAgICAgICAgaGlnaF9zY29yZXMuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgaGlnaF9zY29yZXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHNjb3JlcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW1wiaGlnaC1zY29yZXNcIl0pO1xuICAgICAgICBzY29yZXMgPSBzY29yZXMuc29ydCgoYSwgYikgPT4geyByZXR1cm4gcGFyc2VJbnQoYikgLSBwYXJzZUludChhKSB9KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICBsZXQgcyA9IHNjb3Jlc1tpXTtcbiAgICAgICAgICBsZXQgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgIGZyYWdtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbGVhZGVyJyk7XG4gICAgICAgICAgZnJhZ21lbnQuaW5uZXJIVE1MID0gKHR5cGVvZiAocykgIT0gXCJ1bmRlZmluZWRcIiA/IHMgOiBcIlwiKTtcbiAgICAgICAgICBoaWdoX3Njb3Jlcy5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGlnaF9zY29yZXMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVNjb3JlcygpIHtcbiAgICBpZiAodHlwZW9mIChTdG9yYWdlKSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgbGV0IGN1cnJlbnQgPSBwYXJzZUludCh0aGlzLnNjb3JlKTtcbiAgICAgIGxldCBzY29yZXMgPSBmYWxzZTtcbiAgICAgIGlmIChsb2NhbFN0b3JhZ2VbXCJoaWdoLXNjb3Jlc1wiXSkge1xuICAgICAgICBzY29yZXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVtcImhpZ2gtc2NvcmVzXCJdKTtcbiAgICAgICAgc2NvcmVzID0gc2NvcmVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIHBhcnNlSW50KGIpIC0gcGFyc2VJbnQoYSkgfSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICAgbGV0IHMgPSBwYXJzZUludChzY29yZXNbaV0pO1xuXG4gICAgICAgICAgbGV0IHZhbCA9ICghaXNOYU4ocykgPyBzIDogMCk7XG4gICAgICAgICAgaWYgKGN1cnJlbnQgPiB2YWwpIHtcbiAgICAgICAgICAgIHZhbCA9IGN1cnJlbnQ7XG4gICAgICAgICAgICBzY29yZXMuc3BsaWNlKGksIDAsIHBhcnNlSW50KGN1cnJlbnQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3Jlcy5sZW5ndGggPSAxMDtcbiAgICAgICAgbG9jYWxTdG9yYWdlW1wiaGlnaC1zY29yZXNcIl0gPSBKU09OLnN0cmluZ2lmeShzY29yZXMpO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgc2NvcmVzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHNjb3Jlc1swXSA9IGN1cnJlbnQ7XG4gICAgICAgIGxvY2FsU3RvcmFnZVtcImhpZ2gtc2NvcmVzXCJdID0gSlNPTi5zdHJpbmdpZnkoc2NvcmVzKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5oaWdoU2NvcmVzKCk7XG4gICAgfVxuICB9XG5cblxuICBnYW1lT3ZlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5sZXZlbC5jb2xsaWRlc1dpdGgodGhpcy5wdXBweS5ib3VuZHMoKSkgfHwgdGhpcy5wdXBweS5vdXRPZkJvdW5kcyh0aGlzLmhlaWdodClcbiAgICApO1xuICB9XG5cbiAgYW5pbWF0ZSgpIHtcbiAgICB0aGlzLmxldmVsLmFuaW1hdGUodGhpcy5jdHgpO1xuXG4gICAgaWYgKHRoaXMuZ2FtZU92ZXIoKSkge1xuICAgICAgdGhpcy5sb3NlID0gdHJ1ZTtcbiAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgICAgYWxlcnQodGhpcy5zY29yZSk7XG4gICAgICB0aGlzLnVwZGF0ZVNjb3JlcygpO1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnB1cHB5LnB1cHB5SUQpO1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnNjb3JlSUQpO1xuICAgICAgdGhpcy5yZXN0YXJ0KCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucnVubmluZykge1xuICAgICAgdGhpcy5yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlLmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuICBcbn1cblxuZXhwb3J0IGRlZmF1bHQgR2FtZTsiLCJpbXBvcnQgQ2hpbGlEb2cgZnJvbSAnLi9nYW1lJztcbmltcG9ydCB7IGluaGVyaXRzIH0gZnJvbSAndXRpbCc7XG5cbmNvbnN0IGJhY2tncm91bmRDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hpbGktZG9nLWdhbWUnKTtcbmNvbnN0IHBsYXllckNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXInKTtcblxubmV3IENoaWxpRG9nKGJhY2tncm91bmRDYW52YXMsIHBsYXllckNhbnZhcyk7XG4iXSwic291cmNlUm9vdCI6IiJ9