!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),u=r[n];n<o;u=r[++n])g(u)||!E(u)?s+=" "+u:s+=" "+a(u);return s},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,s={};function a(t,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),c(r,t,r.depth)}function u(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function l(t,e){return t}function c(t,n,r){if(t.customInspect&&n&&v(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return m(i)||(i=c(t,i,r)),i}var o=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(y(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),w(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(v(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(O(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return h(n)}var l,E="",T=!1,P=["{","}"];(f(n)&&(T=!0,P=["[","]"]),v(n))&&(E=" [Function"+(n.name?": "+n.name:"")+"]");return O(n)&&(E=" "+RegExp.prototype.toString.call(n)),S(n)&&(E=" "+Date.prototype.toUTCString.call(n)),w(n)&&(E=" "+h(n)),0!==s.length||T&&0!=n.length?r<0?O(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=T?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)D(e,String(s))?o.push(p(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(t,e,n,r,i,!0))}),o}(t,n,r,a,s):s.map(function(e){return p(t,n,r,a,e,T)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(l,E,P)):P[0]+E+P[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),D(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=g(n)?c(t,u.value,null):c(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function f(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function g(t){return null===t}function y(t){return"number"==typeof t}function m(t){return"string"==typeof t}function b(t){return void 0===t}function O(t){return E(t)&&"[object RegExp]"===T(t)}function E(t){return"object"==typeof t&&null!==t}function S(t){return E(t)&&"[object Date]"===T(t)}function w(t){return E(t)&&("[object Error]"===T(t)||t instanceof Error)}function v(t){return"function"==typeof t}function T(t){return Object.prototype.toString.call(t)}function P(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(b(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else s[n]=function(){};return s[n]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=f,e.isBoolean=d,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=O,e.isObject=E,e.isDate=S,e.isError=w,e.isFunction=v,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(2);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[P(t.getHours()),P(t.getMinutes()),P(t.getSeconds())].join(":"),[t.getDate(),I[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(3),e._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var _="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function A(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(_&&t[_]){var e;if("function"!=typeof(e=t[_]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,_,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(t,r){t?n(t):e(r)});try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),_&&Object.defineProperty(e,_,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=_,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,n).then(function(e){t.nextTick(s,null,e)},function(e){t.nextTick(A,e,s)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(1))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,l=[],c=!1,h=-1;function p(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&f())}function f(){if(!c){var t=a(p);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";n.r(e);const r={OBSTACLE_SPEED:4,SIDEWALK_SPEED:4,GAP_HEIGHT:150,OBSTACLE_WIDTH:150,OBSTACLE_HEIGHT:150,EDGE_BUFFER:50,OBSTACLE_SPACING:350,SIDEWALK_SPACING:150,WARM_UP_SECONDS:1,HOTDOG_STAND_WIDTH:300,HOTDOG_STAND_HEIGHT:350};var i=class{constructor(t){this.dimensions=t;const e=new Image;e.src="./assets/hot-dog-stand.png";const n=this.dimensions.width+60*r.WARM_UP_SECONDS*r.OBSTACLE_SPEED;this.sidewalkLines=[this.sidewalkLine(80),this.sidewalkLine(80+r.SIDEWALK_SPACING),this.sidewalkLine(80+2*r.SIDEWALK_SPACING)],this.hotdogStand={left:300,top:40,img:e},this.obstacleImg=new Image,this.obstacleImg.src="./assets/bush.png",this.obstacles=[this.randomObstacle(n),this.randomObstacle(n+r.OBSTACLE_SPACING),this.randomObstacle(n+2*r.OBSTACLE_SPACING)]}animate(t){this.drawBackground(t),this.moveSidewalkLines(),this.drawSidewalkLines(t),this.moveHotdogStand(),this.drawHotdogStand(t),this.moveObstacles(),this.drawObstacles(t)}drawBackground(t){t.fillStyle="#DDDDDD",t.fillRect(0,0,this.dimensions.width,this.dimensions.height);for(let e=1;e<4;e+=1.3)t.fillStyle="black",t.lineWidth=2,t.beginPath(),t.moveTo(0,3.8*r.EDGE_BUFFER*e),t.lineTo(480,3.8*r.EDGE_BUFFER*e),t.stroke()}sidewalkLine(t){return{left:t}}moveSidewalkLines(){if(this.eachSidewalkLine(t=>{t.left-=r.SIDEWALK_SPEED}),this.sidewalkLines[0].left<=0){this.sidewalkLines.shift();const t=this.sidewalkLines[1].left+r.SIDEWALK_SPACING;this.sidewalkLines.push(this.sidewalkLine(t))}}drawSidewalkLines(t){this.eachSidewalkLine(e=>{t.fillStyle="Black",t.lineWidth=2,t.beginPath(),t.moveTo(e.left,0),t.lineTo(e.left,640),t.stroke()})}eachSidewalkLine(t){this.sidewalkLines.forEach(t.bind(this))}moveHotdogStand(){this.hotdogStand.left-=r.SIDEWALK_SPEED}drawHotdogStand(t){t.drawImage(this.hotdogStand.img,this.hotdogStand.left,this.hotdogStand.top,r.HOTDOG_STAND_WIDTH,r.HOTDOG_STAND_HEIGHT)}randomObstacle(t){const e=this.dimensions.height-2*r.EDGE_BUFFER-r.GAP_HEIGHT,n=Math.random()*e+r.EDGE_BUFFER;return{img:this.obstacleImg,topObstacle:{left:t,right:r.OBSTACLE_WIDTH+t,top:n-r.OBSTACLE_HEIGHT,bottom:n},bottomObstacle:{left:t,right:r.OBSTACLE_WIDTH+t,top:n+r.GAP_HEIGHT,bottom:n+r.GAP_HEIGHT+r.OBSTACLE_HEIGHT}}}moveObstacles(){if(this.eachObstacle(t=>{t.topObstacle.left-=r.OBSTACLE_SPEED,t.topObstacle.right-=r.OBSTACLE_SPEED,t.bottomObstacle.left-=r.OBSTACLE_SPEED,t.bottomObstacle.right-=r.OBSTACLE_SPEED}),this.obstacles[0].topObstacle.right<=0){this.obstacles.shift();const t=this.obstacles[1].topObstacle.left+r.OBSTACLE_SPACING;this.obstacles.push(this.randomObstacle(t))}}drawObstacles(t){this.eachObstacle(e=>{t.fillStyle="green",t.drawImage(e.img,e.topObstacle.left,e.topObstacle.top,r.OBSTACLE_WIDTH,e.topObstacle.bottom-e.topObstacle.top),t.drawImage(e.img,e.bottomObstacle.left,e.bottomObstacle.top,r.OBSTACLE_WIDTH,e.bottomObstacle.bottom-e.bottomObstacle.top)})}eachObstacle(t){this.obstacles.forEach(t.bind(this))}collidesWith(t){let e=!1;const n=(t,e)=>{let n,r,i=(t.left+t.right)/2,o=(t.top+t.bottom)/2,s=t.right-i;return n=e.left>i?e.left:e.right<i?e.right:i,r=e.top>o?e.top:e.bottom<o?e.bottom:o,Math.hypot(n-i,r-o)<s};return this.eachObstacle(r=>{(n(r.topObstacle,t)||n(r.bottomObstacle,t))&&(e=!0)}),e}};var o=class{constructor(t){this.dimensions=t,this.x=this.dimensions.width/3,this.y=this.dimensions.height/1.5,this.scrX,this.scrY,this.sheetWidth=266,this.sheetHeight=200,this.frameCount=2,this.width=this.sheetWidth/this.frameCount,this.height=this.sheetHeight/this.frameCount,this.currentFrame=0,this.puppyImg=new Image,this.puppyImg.src="./assets/run-corgi-2.png"}movePuppy(t,e){this.x+=t,this.y+=e}animate(t){this.puppyID=setInterval(()=>{this.drawPuppy(t)},300)}updateFrame(){this.currentFrame=++this.currentFrame%this.frameCount,this.srcX=this.currentFrame*this.width,this.srcY=0}drawPuppy(t){this.updateFrame(),t.clearRect(0,0,480,640),t.drawImage(this.puppyImg,this.srcX,this.srcY,this.width,this.height,this.x,this.y,this.width,this.height)}bounds(){return{left:this.x+20,right:this.x+100,bottom:this.y+82,top:this.y+20}}outOfBounds(){const t=this.y<0,e=this.y+82>this.dimensions.height;return t||e}};const s={PUPPY_VELOCITY:-25};var a=class{constructor(t,e){this.ctx=t.getContext("2d"),this.playerCtx=e.getContext("2d"),this.dimensions={width:t.width,height:t.height},this.lose=!1,this.running=!1,this.playButton=document.getElementById("audio-button"),this.audioContext=new AudioContext,this.audioElement=document.getElementById("audio-background"),this.track=this.audioContext.createMediaElementSource(this.audioElement),this.score=0,this.registerEvents(),this.restart()}play(){this.running=!0,this.animate()}restart(){document.getElementsByClassName("start-msg")[0].style.display="flex",this.lose=!1,this.puppy=new o(this.dimensions),this.level=new i(this.dimensions),this.animate(),this.puppy.animate(this.playerCtx)}updateScore(){!1===this.lose&&(this.score+=1);let t=Number(this.score),e=Math.floor(t%3600/60),n=Math.floor(t%3600%60),r=("0"+e).slice(-2)+":"+("0"+n).slice(-2);document.getElementsByClassName("timer")[0].innerHTML=r}registerEvents(){this.boundKeyPressedHandler=this.keyPressed.bind(this),document.addEventListener("keydown",this.boundKeyPressedHandler),this.boundPlayButtonPressedHandler=this.playButtonPressed.bind(this),this.playButton.addEventListener("click",this.boundPlayButtonPressedHandler)}keyPressed(t){this.running||(document.getElementsByClassName("start-msg")[0].style.display="none",this.scoreID=setInterval(this.updateScore.bind(this),500),this.running=!0,this.play());let e=t.key||t.keycode;"Escape"==e&&"Esc"==e&&27==e||(38===e||"ArrowUp"==e?this.puppy.movePuppy(0,s.PUPPY_VELOCITY):40===e||"ArrowDown"==e?this.puppy.movePuppy(0,Math.abs(s.PUPPY_VELOCITY)):37===e||"ArrowLeft"==e?this.puppy.movePuppy(s.PUPPY_VELOCITY,0):39!==e&&"ArrowRight"!=e||this.puppy.movePuppy(Math.abs(s.PUPPY_VELOCITY),0))}playButtonPressed(t){this.track.connect(this.audioContext.destination),this.audioElement.crossOrigin="anonymous","suspended"===this.audioContext.state&&this.audioContext.resume(),"false"===t.currentTarget.dataset.playing?(this.audioElement.play(),t.currentTarget.dataset.playing="true"):"true"===t.currentTarget.dataset.playing&&(this.audioElement.pause(),t.currentTarget.dataset.playing="false")}highScores(){let t=document.getElementById("leaderboard");if("undefined"!=typeof Storage){let n=!1;if(localStorage["high-scores"]){t.style.display="block",t.innerHTML="",n=(n=JSON.parse(localStorage["high-scores"])).sort((t,e)=>parseInt(e)-parseInt(t));for(var e=0;e<10;e++){let r=n[e],i=document.createElement("li");i.setAttribute("class","leader"),i.innerHTML=void 0!==r?r:"",t.appendChild(i)}}}else t.style.display="none"}updateScores(){if("undefined"!=typeof Storage){let t=parseInt(this.score),e=!1;if(localStorage["high-scores"]){e=(e=JSON.parse(localStorage["high-scores"])).sort(function(t,e){return parseInt(e)-parseInt(t)});for(let n=0;n<10;n++){let r=parseInt(e[n]),i=isNaN(r)?0:r;if(t>i){i=t,e.splice(n,0,parseInt(t));break}}e.length=10,localStorage["high-scores"]=JSON.stringify(e)}else{let e=new Array;e[0]=t,localStorage["high-scores"]=JSON.stringify(e)}this.highScores()}}gameOver(){return this.level.collidesWith(this.puppy.bounds())||this.puppy.outOfBounds(this.height)}animate(){this.level.animate(this.ctx),this.gameOver()&&(this.lose=!0,this.running=!1,alert(this.score),this.updateScores(),this.score=0,clearInterval(puppy.puppyID),clearInterval(this.scoreID),this.restart()),this.running&&(this.requestId=requestAnimationFrame(this.animate.bind(this)))}};n(0);new a(document.getElementById("chili-dog-game"),document.getElementById("player"))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dGlsL3N1cHBvcnQvaXNCdWZmZXJCcm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9sZXZlbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcHVwcHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicHJvY2VzcyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJvYmoiLCJrZXlzIiwiZGVzY3JpcHRvcnMiLCJsZW5ndGgiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJmb3JtYXRSZWdFeHAiLCJmb3JtYXQiLCJmIiwiaXNTdHJpbmciLCJvYmplY3RzIiwiYXJndW1lbnRzIiwicHVzaCIsImluc3BlY3QiLCJqb2luIiwiYXJncyIsImxlbiIsInN0ciIsIlN0cmluZyIsInJlcGxhY2UiLCJ4IiwiTnVtYmVyIiwiSlNPTiIsInN0cmluZ2lmeSIsIl8iLCJpc051bGwiLCJpc09iamVjdCIsImRlcHJlY2F0ZSIsImZuIiwibXNnIiwibm9EZXByZWNhdGlvbiIsImFwcGx5IiwidGhpcyIsIndhcm5lZCIsInRocm93RGVwcmVjYXRpb24iLCJFcnJvciIsInRyYWNlRGVwcmVjYXRpb24iLCJjb25zb2xlIiwidHJhY2UiLCJlcnJvciIsImRlYnVnRW52aXJvbiIsImRlYnVncyIsIm9wdHMiLCJjdHgiLCJzZWVuIiwic3R5bGl6ZSIsInN0eWxpemVOb0NvbG9yIiwiZGVwdGgiLCJjb2xvcnMiLCJpc0Jvb2xlYW4iLCJzaG93SGlkZGVuIiwiX2V4dGVuZCIsImlzVW5kZWZpbmVkIiwiY3VzdG9tSW5zcGVjdCIsInN0eWxpemVXaXRoQ29sb3IiLCJmb3JtYXRWYWx1ZSIsInN0eWxlVHlwZSIsInN0eWxlIiwic3R5bGVzIiwicmVjdXJzZVRpbWVzIiwiaXNGdW5jdGlvbiIsImNvbnN0cnVjdG9yIiwicmV0IiwicHJpbWl0aXZlIiwic2ltcGxlIiwiaXNOdW1iZXIiLCJmb3JtYXRQcmltaXRpdmUiLCJ2aXNpYmxlS2V5cyIsImFycmF5IiwiaGFzaCIsImZvckVhY2giLCJ2YWwiLCJpZHgiLCJhcnJheVRvSGFzaCIsImdldE93blByb3BlcnR5TmFtZXMiLCJpc0Vycm9yIiwiaW5kZXhPZiIsImZvcm1hdEVycm9yIiwiaXNSZWdFeHAiLCJSZWdFeHAiLCJ0b1N0cmluZyIsImlzRGF0ZSIsIkRhdGUiLCJvdXRwdXQiLCJiYXNlIiwiYnJhY2VzIiwiaXNBcnJheSIsInRvVVRDU3RyaW5nIiwiZm9ybWF0UHJvcGVydHkiLCJtYXRjaCIsImZvcm1hdEFycmF5IiwibWFwIiwicG9wIiwicmVkdWNlIiwicHJldiIsImN1ciIsIm51bUxpbmVzRXN0IiwicmVkdWNlVG9TaW5nbGVTdHJpbmciLCJkZXNjIiwic2V0Iiwic3BsaXQiLCJsaW5lIiwic3Vic3RyIiwiYXIiLCJBcnJheSIsImFyZyIsInJlIiwib2JqZWN0VG9TdHJpbmciLCJlIiwicGFkIiwiZGVidWdsb2ciLCJlbnYiLCJOT0RFX0RFQlVHIiwidG9VcHBlckNhc2UiLCJ0ZXN0IiwicGlkIiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImludmVyc2UiLCJ3aGl0ZSIsImdyZXkiLCJibGFjayIsImJsdWUiLCJjeWFuIiwiZ3JlZW4iLCJtYWdlbnRhIiwicmVkIiwieWVsbG93Iiwic3BlY2lhbCIsIm51bWJlciIsImJvb2xlYW4iLCJ1bmRlZmluZWQiLCJudWxsIiwic3RyaW5nIiwiZGF0ZSIsInJlZ2V4cCIsImlzTnVsbE9yVW5kZWZpbmVkIiwiaXNTeW1ib2wiLCJpc1ByaW1pdGl2ZSIsImlzQnVmZmVyIiwibW9udGhzIiwicHJvcCIsImxvZyIsInRpbWUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiaW5oZXJpdHMiLCJvcmlnaW4iLCJhZGQiLCJrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wiLCJjYWxsYmFja2lmeU9uUmVqZWN0ZWQiLCJyZWFzb24iLCJjYiIsIm5ld1JlYXNvbiIsInByb21pc2lmeSIsIm9yaWdpbmFsIiwiVHlwZUVycm9yIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJwcm9taXNlUmVzb2x2ZSIsInByb21pc2VSZWplY3QiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlcnIiLCJzZXRQcm90b3R5cGVPZiIsImdldFByb3RvdHlwZU9mIiwiZGVmaW5lUHJvcGVydGllcyIsImN1c3RvbSIsImNhbGxiYWNraWZ5IiwiY2FsbGJhY2tpZmllZCIsIm1heWJlQ2IiLCJzZWxmIiwidGhlbiIsIm5leHRUaWNrIiwicmVqIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImNvbmNhdCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsIm5vb3AiLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJjb3B5IiwiZmlsbCIsInJlYWRVSW50OCIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJUZW1wQ3RvciIsIkNPTlNUQU5UUyIsIk9CU1RBQ0xFX1NQRUVEIiwiU0lERVdBTEtfU1BFRUQiLCJHQVBfSEVJR0hUIiwiT0JTVEFDTEVfV0lEVEgiLCJPQlNUQUNMRV9IRUlHSFQiLCJFREdFX0JVRkZFUiIsIk9CU1RBQ0xFX1NQQUNJTkciLCJTSURFV0FMS19TUEFDSU5HIiwiV0FSTV9VUF9TRUNPTkRTIiwiSE9URE9HX1NUQU5EX1dJRFRIIiwiSE9URE9HX1NUQU5EX0hFSUdIVCIsImxldmVsIiwiW29iamVjdCBPYmplY3RdIiwiZGltZW5zaW9ucyIsImhvdGRvZ1N0YW5kSW1nIiwiSW1hZ2UiLCJzcmMiLCJmaXJzdE9ic3RhY2xlRGlzdGFuY2UiLCJ3aWR0aCIsInNpZGV3YWxrTGluZXMiLCJzaWRld2Fsa0xpbmUiLCJob3Rkb2dTdGFuZCIsImxlZnQiLCJ0b3AiLCJpbWciLCJvYnN0YWNsZUltZyIsIm9ic3RhY2xlcyIsInJhbmRvbU9ic3RhY2xlIiwiZHJhd0JhY2tncm91bmQiLCJtb3ZlU2lkZXdhbGtMaW5lcyIsImRyYXdTaWRld2Fsa0xpbmVzIiwibW92ZUhvdGRvZ1N0YW5kIiwiZHJhd0hvdGRvZ1N0YW5kIiwibW92ZU9ic3RhY2xlcyIsImRyYXdPYnN0YWNsZXMiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImhlaWdodCIsImxpbmVXaWR0aCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImVhY2hTaWRld2Fsa0xpbmUiLCJzaGlmdCIsIm5ld1giLCJkcmF3SW1hZ2UiLCJoZWlnaHRSYW5nZSIsImdhcFRvcCIsIk1hdGgiLCJyYW5kb20iLCJ0b3BPYnN0YWNsZSIsInJpZ2h0IiwiYm90dG9tIiwiYm90dG9tT2JzdGFjbGUiLCJlYWNoT2JzdGFjbGUiLCJvYnN0YWNsZSIsInB1cHB5IiwiY29sbGlzaW9uIiwiX292ZXJsYXAiLCJjbG9zZXN0WCIsImNsb3Nlc3RZIiwiY2VudGVyWCIsImNlbnRlclkiLCJjaXJjbGVSYWRpdXMiLCJoeXBvdCIsInNyY19wdXBweSIsInkiLCJzY3JYIiwic2NyWSIsInNoZWV0V2lkdGgiLCJzaGVldEhlaWdodCIsImZyYW1lQ291bnQiLCJjdXJyZW50RnJhbWUiLCJwdXBweUltZyIsImRlbHRhWCIsImRlbHRhWSIsInB1cHB5SUQiLCJzZXRJbnRlcnZhbCIsImRyYXdQdXBweSIsInNyY1giLCJzcmNZIiwidXBkYXRlRnJhbWUiLCJjbGVhclJlY3QiLCJhYm92ZVRvcCIsImJlbG93Qm90dG9tIiwiZ2FtZV9DT05TVEFOVFMiLCJQVVBQWV9WRUxPQ0lUWSIsImdhbWUiLCJjYW52YXMiLCJwbGF5ZXJDYW52YXMiLCJnZXRDb250ZXh0IiwicGxheWVyQ3R4IiwibG9zZSIsInJ1bm5pbmciLCJwbGF5QnV0dG9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImF1ZGlvQ29udGV4dCIsIkF1ZGlvQ29udGV4dCIsImF1ZGlvRWxlbWVudCIsInRyYWNrIiwiY3JlYXRlTWVkaWFFbGVtZW50U291cmNlIiwic2NvcmUiLCJyZWdpc3RlckV2ZW50cyIsInJlc3RhcnQiLCJhbmltYXRlIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImRpc3BsYXkiLCJyYXdTY29yZSIsImZsb29yIiwiZm9ybWF0dGVkU2NvcmUiLCJzbGljZSIsImlubmVySFRNTCIsImJvdW5kS2V5UHJlc3NlZEhhbmRsZXIiLCJrZXlQcmVzc2VkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJvdW5kUGxheUJ1dHRvblByZXNzZWRIYW5kbGVyIiwicGxheUJ1dHRvblByZXNzZWQiLCJzY29yZUlEIiwidXBkYXRlU2NvcmUiLCJwbGF5Iiwia2V5Y29kZSIsIm1vdmVQdXBweSIsImFicyIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsImNyb3NzT3JpZ2luIiwic3RhdGUiLCJyZXN1bWUiLCJjdXJyZW50VGFyZ2V0IiwiZGF0YXNldCIsInBsYXlpbmciLCJwYXVzZSIsImhpZ2hfc2NvcmVzIiwic2NvcmVzIiwibG9jYWxTdG9yYWdlIiwicGFyc2UiLCJzb3J0IiwiYSIsImIiLCJwYXJzZUludCIsImZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiY3VycmVudCIsImlzTmFOIiwic3BsaWNlIiwiaGlnaFNjb3JlcyIsImNvbGxpZGVzV2l0aCIsImJvdW5kcyIsIm91dE9mQm91bmRzIiwiZ2FtZU92ZXIiLCJhbGVydCIsInVwZGF0ZVNjb3JlcyIsImNsZWFySW50ZXJ2YWwiLCJyZXF1ZXN0SWQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFL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UUFBQWhULEtBQUFXLEtBRUFYLEtBQUErVixhQUNBL1YsS0FBQW1TLE1BQUEsRUFDQW5TLEtBQUFvUyxTQUFBLEVBQ0E0RCxNQUFBaFcsS0FBQTZTLE9BQ0E3UyxLQUFBaVcsZUFDQWpXLEtBQUE2UyxNQUFBLEVBQ0FxRCxjQUFBbkcsTUFBQW9CLFNBQ0ErRSxjQUFBbFcsS0FBQTZULFNBQ0E3VCxLQUFBK1MsV0FHQS9TLEtBQUFvUyxVQUNBcFMsS0FBQW1XLFVBQUFDLHNCQUFBcFcsS0FBQWdULFFBQUF6VixLQUFBeUMsZUNsTEEsSUFBSThSLEVBSEpRLFNBQUFDLGVBQUEsa0JBQ0FELFNBQUFDLGVBQUEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgfHxcbiAgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgdmFyIGRlc2NyaXB0b3JzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZXNjcmlwdG9yc1trZXlzW2ldXSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXlzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc2NyaXB0b3JzO1xuICB9O1xuXG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcbmV4cG9ydHMuZm9ybWF0ID0gZnVuY3Rpb24oZikge1xuICBpZiAoIWlzU3RyaW5nKGYpKSB7XG4gICAgdmFyIG9iamVjdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgb2JqZWN0cy5wdXNoKGluc3BlY3QoYXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHZhciBpID0gMTtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgdmFyIHN0ciA9IFN0cmluZyhmKS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24oeCkge1xuICAgIGlmICh4ID09PSAnJSUnKSByZXR1cm4gJyUnO1xuICAgIGlmIChpID49IGxlbikgcmV0dXJuIHg7XG4gICAgc3dpdGNoICh4KSB7XG4gICAgICBjYXNlICclcyc6IHJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVkJzogcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWonOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXJdJztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9KTtcbiAgZm9yICh2YXIgeCA9IGFyZ3NbaV07IGkgPCBsZW47IHggPSBhcmdzWysraV0pIHtcbiAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkge1xuICAgICAgc3RyICs9ICcgJyArIHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuXG4vLyBNYXJrIHRoYXQgYSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkLlxuLy8gUmV0dXJucyBhIG1vZGlmaWVkIGZ1bmN0aW9uIHdoaWNoIHdhcm5zIG9uY2UgYnkgZGVmYXVsdC5cbi8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG5leHBvcnRzLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKGZuLCBtc2cpIHtcbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59O1xuXG5cbnZhciBkZWJ1Z3MgPSB7fTtcbnZhciBkZWJ1Z0Vudmlyb247XG5leHBvcnRzLmRlYnVnbG9nID0gZnVuY3Rpb24oc2V0KSB7XG4gIGlmIChpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKVxuICAgIGRlYnVnRW52aXJvbiA9IHByb2Nlc3MuZW52Lk5PREVfREVCVUcgfHwgJyc7XG4gIHNldCA9IHNldC50b1VwcGVyQ2FzZSgpO1xuICBpZiAoIWRlYnVnc1tzZXRdKSB7XG4gICAgaWYgKG5ldyBSZWdFeHAoJ1xcXFxiJyArIHNldCArICdcXFxcYicsICdpJykudGVzdChkZWJ1Z0Vudmlyb24pKSB7XG4gICAgICB2YXIgcGlkID0gcHJvY2Vzcy5waWQ7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbXNnID0gZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignJXMgJWQ6ICVzJywgc2V0LCBwaWQsIG1zZyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge307XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWJ1Z3Nbc2V0XTtcbn07XG5cblxuLyoqXG4gKiBFY2hvcyB0aGUgdmFsdWUgb2YgYSB2YWx1ZS4gVHJ5cyB0byBwcmludCB0aGUgdmFsdWUgb3V0XG4gKiBpbiB0aGUgYmVzdCB3YXkgcG9zc2libGUgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcHJpbnQgb3V0LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHMgT3B0aW9uYWwgb3B0aW9ucyBvYmplY3QgdGhhdCBhbHRlcnMgdGhlIG91dHB1dC5cbiAqL1xuLyogbGVnYWN5OiBvYmosIHNob3dIaWRkZW4sIGRlcHRoLCBjb2xvcnMqL1xuZnVuY3Rpb24gaW5zcGVjdChvYmosIG9wdHMpIHtcbiAgLy8gZGVmYXVsdCBvcHRpb25zXG4gIHZhciBjdHggPSB7XG4gICAgc2VlbjogW10sXG4gICAgc3R5bGl6ZTogc3R5bGl6ZU5vQ29sb3JcbiAgfTtcbiAgLy8gbGVnYWN5Li4uXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIGN0eC5kZXB0aCA9IGFyZ3VtZW50c1syXTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gNCkgY3R4LmNvbG9ycyA9IGFyZ3VtZW50c1szXTtcbiAgaWYgKGlzQm9vbGVhbihvcHRzKSkge1xuICAgIC8vIGxlZ2FjeS4uLlxuICAgIGN0eC5zaG93SGlkZGVuID0gb3B0cztcbiAgfSBlbHNlIGlmIChvcHRzKSB7XG4gICAgLy8gZ290IGFuIFwib3B0aW9uc1wiIG9iamVjdFxuICAgIGV4cG9ydHMuX2V4dGVuZChjdHgsIG9wdHMpO1xuICB9XG4gIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5zaG93SGlkZGVuKSkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpIGN0eC5kZXB0aCA9IDI7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmN1c3RvbUluc3BlY3QpKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWU7XG4gIGlmIChjdHguY29sb3JzKSBjdHguc3R5bGl6ZSA9IHN0eWxpemVXaXRoQ29sb3I7XG4gIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTtcbn1cbmV4cG9ydHMuaW5zcGVjdCA9IGluc3BlY3Q7XG5cblxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BTlNJX2VzY2FwZV9jb2RlI2dyYXBoaWNzXG5pbnNwZWN0LmNvbG9ycyA9IHtcbiAgJ2JvbGQnIDogWzEsIDIyXSxcbiAgJ2l0YWxpYycgOiBbMywgMjNdLFxuICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sXG4gICdpbnZlcnNlJyA6IFs3LCAyN10sXG4gICd3aGl0ZScgOiBbMzcsIDM5XSxcbiAgJ2dyZXknIDogWzkwLCAzOV0sXG4gICdibGFjaycgOiBbMzAsIDM5XSxcbiAgJ2JsdWUnIDogWzM0LCAzOV0sXG4gICdjeWFuJyA6IFszNiwgMzldLFxuICAnZ3JlZW4nIDogWzMyLCAzOV0sXG4gICdtYWdlbnRhJyA6IFszNSwgMzldLFxuICAncmVkJyA6IFszMSwgMzldLFxuICAneWVsbG93JyA6IFszMywgMzldXG59O1xuXG4vLyBEb24ndCB1c2UgJ2JsdWUnIG5vdCB2aXNpYmxlIG9uIGNtZC5leGVcbmluc3BlY3Quc3R5bGVzID0ge1xuICAnc3BlY2lhbCc6ICdjeWFuJyxcbiAgJ251bWJlcic6ICd5ZWxsb3cnLFxuICAnYm9vbGVhbic6ICd5ZWxsb3cnLFxuICAndW5kZWZpbmVkJzogJ2dyZXknLFxuICAnbnVsbCc6ICdib2xkJyxcbiAgJ3N0cmluZyc6ICdncmVlbicsXG4gICdkYXRlJzogJ21hZ2VudGEnLFxuICAvLyBcIm5hbWVcIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZ1xuICAncmVnZXhwJzogJ3JlZCdcbn07XG5cblxuZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICB2YXIgc3R5bGUgPSBpbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdO1xuXG4gIGlmIChzdHlsZSkge1xuICAgIHJldHVybiAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICtcbiAgICAgICAgICAgJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVsxXSArICdtJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc3R5bGl6ZU5vQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgcmV0dXJuIHN0cjtcbn1cblxuXG5mdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkge1xuICB2YXIgaGFzaCA9IHt9O1xuXG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24odmFsLCBpZHgpIHtcbiAgICBoYXNoW3ZhbF0gPSB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gaGFzaDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMpIHtcbiAgLy8gUHJvdmlkZSBhIGhvb2sgZm9yIHVzZXItc3BlY2lmaWVkIGluc3BlY3QgZnVuY3Rpb25zLlxuICAvLyBDaGVjayB0aGF0IHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluc3BlY3QgZnVuY3Rpb24gb24gaXRcbiAgaWYgKGN0eC5jdXN0b21JbnNwZWN0ICYmXG4gICAgICB2YWx1ZSAmJlxuICAgICAgaXNGdW5jdGlvbih2YWx1ZS5pbnNwZWN0KSAmJlxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsXG4gICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBleHBvcnRzLmluc3BlY3QgJiZcbiAgICAgIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuICAgICAgISh2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT09IHZhbHVlKSkge1xuICAgIHZhciByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KTtcbiAgICBpZiAoIWlzU3RyaW5nKHJldCkpIHtcbiAgICAgIHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcbiAgdmFyIHByaW1pdGl2ZSA9IGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKTtcbiAgaWYgKHByaW1pdGl2ZSkge1xuICAgIHJldHVybiBwcmltaXRpdmU7XG4gIH1cblxuICAvLyBMb29rIHVwIHRoZSBrZXlzIG9mIHRoZSBvYmplY3QuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICB2YXIgdmlzaWJsZUtleXMgPSBhcnJheVRvSGFzaChrZXlzKTtcblxuICBpZiAoY3R4LnNob3dIaWRkZW4pIHtcbiAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICB9XG5cbiAgLy8gSUUgZG9lc24ndCBtYWtlIGVycm9yIGZpZWxkcyBub24tZW51bWVyYWJsZVxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZHd3NTJzYnQodj12cy45NCkuYXNweFxuICBpZiAoaXNFcnJvcih2YWx1ZSlcbiAgICAgICYmIChrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKSA+PSAwIHx8IGtleXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA+PSAwKSkge1xuICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICAvLyBTb21lIHR5cGUgb2Ygb2JqZWN0IHdpdGhvdXQgcHJvcGVydGllcyBjYW4gYmUgc2hvcnRjdXR0ZWQuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW0Z1bmN0aW9uJyArIG5hbWUgKyAnXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfVxuICAgIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdkYXRlJyk7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYmFzZSA9ICcnLCBhcnJheSA9IGZhbHNlLCBicmFjZXMgPSBbJ3snLCAnfSddO1xuXG4gIC8vIE1ha2UgQXJyYXkgc2F5IHRoYXQgdGhleSBhcmUgQXJyYXlcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgYXJyYXkgPSB0cnVlO1xuICAgIGJyYWNlcyA9IFsnWycsICddJ107XG4gIH1cblxuICAvLyBNYWtlIGZ1bmN0aW9ucyBzYXkgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnNcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgdmFyIG4gPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICBiYXNlID0gJyBbRnVuY3Rpb24nICsgbiArICddJztcbiAgfVxuXG4gIC8vIE1ha2UgUmVnRXhwcyBzYXkgdGhhdCB0aGV5IGFyZSBSZWdFeHBzXG4gIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZVxuICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZXJyb3Igd2l0aCBtZXNzYWdlIGZpcnN0IHNheSB0aGUgZXJyb3JcbiAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCAmJiAoIWFycmF5IHx8IHZhbHVlLmxlbmd0aCA9PSAwKSkge1xuICAgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdO1xuICB9XG5cbiAgaWYgKHJlY3Vyc2VUaW1lcyA8IDApIHtcbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cblxuICBjdHguc2Vlbi5wdXNoKHZhbHVlKTtcblxuICB2YXIgb3V0cHV0O1xuICBpZiAoYXJyYXkpIHtcbiAgICBvdXRwdXQgPSBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGN0eC5zZWVuLnBvcCgpO1xuXG4gIHJldHVybiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnKTtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHZhciBzaW1wbGUgPSAnXFwnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKSArICdcXCcnO1xuICAgIHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKTtcbiAgfVxuICBpZiAoaXNOdW1iZXIodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnbnVtYmVyJyk7XG4gIGlmIChpc0Jvb2xlYW4odmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpO1xuICAvLyBGb3Igc29tZSByZWFzb24gdHlwZW9mIG51bGwgaXMgXCJvYmplY3RcIiwgc28gc3BlY2lhbCBjYXNlIGhlcmUuXG4gIGlmIChpc051bGwodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodmFsdWUpIHtcbiAgcmV0dXJuICdbJyArIEVycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSArICddJztcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkodmFsdWUsIFN0cmluZyhpKSkpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAgU3RyaW5nKGkpLCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcnKTtcbiAgICB9XG4gIH1cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgha2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBrZXksIHRydWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpIHtcbiAgdmFyIG5hbWUsIHN0ciwgZGVzYztcbiAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkgfHwgeyB2YWx1ZTogdmFsdWVba2V5XSB9O1xuICBpZiAoZGVzYy5nZXQpIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyL1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmICghaGFzT3duUHJvcGVydHkodmlzaWJsZUtleXMsIGtleSkpIHtcbiAgICBuYW1lID0gJ1snICsga2V5ICsgJ10nO1xuICB9XG4gIGlmICghc3RyKSB7XG4gICAgaWYgKGN0eC5zZWVuLmluZGV4T2YoZGVzYy52YWx1ZSkgPCAwKSB7XG4gICAgICBpZiAoaXNOdWxsKHJlY3Vyc2VUaW1lcykpIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyLmluZGV4T2YoJ1xcbicpID4gLTEpIHtcbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpLnN1YnN0cigyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSAnXFxuJyArIHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tDaXJjdWxhcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHtcbiAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcbiAgICBpZiAobmFtZS5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLykpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigxLCBuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICduYW1lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXlwifFwiJCkvZywgXCInXCIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7XG59XG5cblxuZnVuY3Rpb24gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpIHtcbiAgdmFyIG51bUxpbmVzRXN0ID0gMDtcbiAgdmFyIGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgbnVtTGluZXNFc3QrKztcbiAgICBpZiAoY3VyLmluZGV4T2YoJ1xcbicpID49IDApIG51bUxpbmVzRXN0Kys7XG4gICAgcmV0dXJuIHByZXYgKyBjdXIucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csICcnKS5sZW5ndGggKyAxO1xuICB9LCAwKTtcblxuICBpZiAobGVuZ3RoID4gNjApIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICtcbiAgICAgICAgICAgKGJhc2UgPT09ICcnID8gJycgOiBiYXNlICsgJ1xcbiAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIG91dHB1dC5qb2luKCcsXFxuICAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIGJyYWNlc1sxXTtcbiAgfVxuXG4gIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgJyAnICsgb3V0cHV0LmpvaW4oJywgJykgKyAnICcgKyBicmFjZXNbMV07XG59XG5cblxuLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgXG4vLyBiZWNhdXNlIGl0IGlzIGZyYWdpbGUgYW5kIGNhbiBiZSBlYXNpbHkgZmFrZWQgd2l0aCBgT2JqZWN0LmNyZWF0ZSgpYC5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuXG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gaXNPYmplY3QocmUpICYmIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuXG5mdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGUpICYmXG4gICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cbmV4cG9ydHMuaXNFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmV4cG9ydHMuaXNCdWZmZXIgPSByZXF1aXJlKCcuL3N1cHBvcnQvaXNCdWZmZXInKTtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5cbmZ1bmN0aW9uIHBhZChuKSB7XG4gIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApO1xufVxuXG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcbiAgICAgICAgICAgICAgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbi8vIDI2IEZlYiAxNjoxOTozNFxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59XG5cblxuLy8gbG9nIGlzIGp1c3QgYSB0aGluIHdyYXBwZXIgdG8gY29uc29sZS5sb2cgdGhhdCBwcmVwZW5kcyBhIHRpbWVzdGFtcFxuZXhwb3J0cy5sb2cgPSBmdW5jdGlvbigpIHtcbiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKSk7XG59O1xuXG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMgZnJvbSBsYW5nLmpzIHJld3JpdHRlbiBhcyBhIHN0YW5kYWxvbmVcbiAqIGZ1bmN0aW9uIChub3Qgb24gRnVuY3Rpb24ucHJvdG90eXBlKS4gTk9URTogSWYgdGhpcyBmaWxlIGlzIHRvIGJlIGxvYWRlZFxuICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcbiAqIGZ1bmN0aW9ucyBhcyBwcm90b3R5cGUgc2V0dXAgdXNpbmcgbm9ybWFsIEphdmFTY3JpcHQgZG9lcyBub3Qgd29yayBhc1xuICogZXhwZWN0ZWQgZHVyaW5nIGJvb3RzdHJhcHBpbmcgKHNlZSBtaXJyb3IuanMgaW4gcjExNDkwMykuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBpbmhlcml0IHRoZVxuICogICAgIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuICovXG5leHBvcnRzLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZXhwb3J0cy5fZXh0ZW5kID0gZnVuY3Rpb24ob3JpZ2luLCBhZGQpIHtcbiAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdFxuICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBvcmlnaW5ba2V5c1tpXV0gPSBhZGRba2V5c1tpXV07XG4gIH1cbiAgcmV0dXJuIG9yaWdpbjtcbn07XG5cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbnZhciBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyA/IFN5bWJvbCgndXRpbC5wcm9taXNpZnkuY3VzdG9tJykgOiB1bmRlZmluZWQ7XG5cbmV4cG9ydHMucHJvbWlzaWZ5ID0gZnVuY3Rpb24gcHJvbWlzaWZ5KG9yaWdpbmFsKSB7XG4gIGlmICh0eXBlb2Ygb3JpZ2luYWwgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwib3JpZ2luYWxcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcblxuICBpZiAoa0N1c3RvbVByb21pc2lmaWVkU3ltYm9sICYmIG9yaWdpbmFsW2tDdXN0b21Qcm9taXNpZmllZFN5bWJvbF0pIHtcbiAgICB2YXIgZm4gPSBvcmlnaW5hbFtrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2xdO1xuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInV0aWwucHJvbWlzaWZ5LmN1c3RvbVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCwge1xuICAgICAgdmFsdWU6IGZuLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICBmdW5jdGlvbiBmbigpIHtcbiAgICB2YXIgcHJvbWlzZVJlc29sdmUsIHByb21pc2VSZWplY3Q7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBwcm9taXNlUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICBwcm9taXNlUmVqZWN0ID0gcmVqZWN0O1xuICAgIH0pO1xuXG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgfVxuICAgIGFyZ3MucHVzaChmdW5jdGlvbiAoZXJyLCB2YWx1ZSkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBwcm9taXNlUmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9taXNlUmVzb2x2ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0cnkge1xuICAgICAgb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBwcm9taXNlUmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZm4sIE9iamVjdC5nZXRQcm90b3R5cGVPZihvcmlnaW5hbCkpO1xuXG4gIGlmIChrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sLCB7XG4gICAgdmFsdWU6IGZuLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhcbiAgICBmbixcbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9yaWdpbmFsKVxuICApO1xufVxuXG5leHBvcnRzLnByb21pc2lmeS5jdXN0b20gPSBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2xcblxuZnVuY3Rpb24gY2FsbGJhY2tpZnlPblJlamVjdGVkKHJlYXNvbiwgY2IpIHtcbiAgLy8gYCFyZWFzb25gIGd1YXJkIGluc3BpcmVkIGJ5IGJsdWViaXJkIChSZWY6IGh0dHBzOi8vZ29vLmdsL3Q1SVM2TSkuXG4gIC8vIEJlY2F1c2UgYG51bGxgIGlzIGEgc3BlY2lhbCBlcnJvciB2YWx1ZSBpbiBjYWxsYmFja3Mgd2hpY2ggbWVhbnMgXCJubyBlcnJvclxuICAvLyBvY2N1cnJlZFwiLCB3ZSBlcnJvci13cmFwIHNvIHRoZSBjYWxsYmFjayBjb25zdW1lciBjYW4gZGlzdGluZ3Vpc2ggYmV0d2VlblxuICAvLyBcInRoZSBwcm9taXNlIHJlamVjdGVkIHdpdGggbnVsbFwiIG9yIFwidGhlIHByb21pc2UgZnVsZmlsbGVkIHdpdGggdW5kZWZpbmVkXCIuXG4gIGlmICghcmVhc29uKSB7XG4gICAgdmFyIG5ld1JlYXNvbiA9IG5ldyBFcnJvcignUHJvbWlzZSB3YXMgcmVqZWN0ZWQgd2l0aCBhIGZhbHN5IHZhbHVlJyk7XG4gICAgbmV3UmVhc29uLnJlYXNvbiA9IHJlYXNvbjtcbiAgICByZWFzb24gPSBuZXdSZWFzb247XG4gIH1cbiAgcmV0dXJuIGNiKHJlYXNvbik7XG59XG5cbmZ1bmN0aW9uIGNhbGxiYWNraWZ5KG9yaWdpbmFsKSB7XG4gIGlmICh0eXBlb2Ygb3JpZ2luYWwgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJvcmlnaW5hbFwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuICB9XG5cbiAgLy8gV2UgRE8gTk9UIHJldHVybiB0aGUgcHJvbWlzZSBhcyBpdCBnaXZlcyB0aGUgdXNlciBhIGZhbHNlIHNlbnNlIHRoYXRcbiAgLy8gdGhlIHByb21pc2UgaXMgYWN0dWFsbHkgc29tZWhvdyByZWxhdGVkIHRvIHRoZSBjYWxsYmFjaydzIGV4ZWN1dGlvblxuICAvLyBhbmQgdGhhdCB0aGUgY2FsbGJhY2sgdGhyb3dpbmcgd2lsbCByZWplY3QgdGhlIHByb21pc2UuXG4gIGZ1bmN0aW9uIGNhbGxiYWNraWZpZWQoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgfVxuXG4gICAgdmFyIG1heWJlQ2IgPSBhcmdzLnBvcCgpO1xuICAgIGlmICh0eXBlb2YgbWF5YmVDYiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxhc3QgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgY2IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBtYXliZUNiLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICAvLyBJbiB0cnVlIG5vZGUgc3R5bGUgd2UgcHJvY2VzcyB0aGUgY2FsbGJhY2sgb24gYG5leHRUaWNrYCB3aXRoIGFsbCB0aGVcbiAgICAvLyBpbXBsaWNhdGlvbnMgKHN0YWNrLCBgdW5jYXVnaHRFeGNlcHRpb25gLCBgYXN5bmNfaG9va3NgKVxuICAgIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgICAudGhlbihmdW5jdGlvbihyZXQpIHsgcHJvY2Vzcy5uZXh0VGljayhjYiwgbnVsbCwgcmV0KSB9LFxuICAgICAgICAgICAgZnVuY3Rpb24ocmVqKSB7IHByb2Nlc3MubmV4dFRpY2soY2FsbGJhY2tpZnlPblJlamVjdGVkLCByZWosIGNiKSB9KTtcbiAgfVxuXG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihjYWxsYmFja2lmaWVkLCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob3JpZ2luYWwpKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY2FsbGJhY2tpZmllZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvcmlnaW5hbCkpO1xuICByZXR1cm4gY2FsbGJhY2tpZmllZDtcbn1cbmV4cG9ydHMuY2FsbGJhY2tpZnkgPSBjYWxsYmFja2lmeTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQnVmZmVyKGFyZykge1xuICByZXR1cm4gYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnXG4gICAgJiYgdHlwZW9mIGFyZy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5maWxsID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5yZWFkVUludDggPT09ICdmdW5jdGlvbic7XG59IiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG4iLCJjb25zdCBDT05TVEFOVFMgPSB7XG4gIE9CU1RBQ0xFX1NQRUVEOiA0LFxuICBTSURFV0FMS19TUEVFRDogNCxcbiAgR0FQX0hFSUdIVDogMTUwLFxuICBPQlNUQUNMRV9XSURUSDogMTUwLFxuICBPQlNUQUNMRV9IRUlHSFQ6IDE1MCxcbiAgRURHRV9CVUZGRVI6IDUwLFxuICBPQlNUQUNMRV9TUEFDSU5HOiAzNTAsXG4gIFNJREVXQUxLX1NQQUNJTkc6IDE1MCxcbiAgV0FSTV9VUF9TRUNPTkRTOiAxLFxuICBIT1RET0dfU1RBTkRfV0lEVEg6IDMwMCxcbiAgSE9URE9HX1NUQU5EX0hFSUdIVDogMzUwXG59O1xuXG5jbGFzcyBMZXZlbCB7XG4gIGNvbnN0cnVjdG9yKGRpbWVuc2lvbnMpIHtcbiAgICB0aGlzLmRpbWVuc2lvbnMgPSBkaW1lbnNpb25zO1xuXG4gICAgY29uc3QgaG90ZG9nU3RhbmRJbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBob3Rkb2dTdGFuZEltZy5zcmMgPSBcIi4vYXNzZXRzL2hvdC1kb2ctc3RhbmQucG5nXCI7XG4gICAgY29uc3QgZmlyc3RTaWRld2Fsa0xpbmVEaXN0YW5jZSA9ICg4MCk7XG4gICAgY29uc3QgZmlyc3RPYnN0YWNsZURpc3RhbmNlID0gdGhpcy5kaW1lbnNpb25zLndpZHRoICtcbiAgICAgIChDT05TVEFOVFMuV0FSTV9VUF9TRUNPTkRTICogNjAgKiBDT05TVEFOVFMuT0JTVEFDTEVfU1BFRUQpO1xuXG4gICAgdGhpcy5zaWRld2Fsa0xpbmVzID0gW1xuICAgICAgdGhpcy5zaWRld2Fsa0xpbmUoZmlyc3RTaWRld2Fsa0xpbmVEaXN0YW5jZSksXG4gICAgICB0aGlzLnNpZGV3YWxrTGluZShmaXJzdFNpZGV3YWxrTGluZURpc3RhbmNlICsgQ09OU1RBTlRTLlNJREVXQUxLX1NQQUNJTkcpLFxuICAgICAgdGhpcy5zaWRld2Fsa0xpbmUoZmlyc3RTaWRld2Fsa0xpbmVEaXN0YW5jZSArIChDT05TVEFOVFMuU0lERVdBTEtfU1BBQ0lORyAqIDIpKVxuICAgIF1cblxuICAgIHRoaXMuaG90ZG9nU3RhbmQgPSB7XG4gICAgICBsZWZ0OiAzMDAsXG4gICAgICB0b3A6IDQwLFxuICAgICAgaW1nOiBob3Rkb2dTdGFuZEltZ1xuICAgIH1cblxuICAgIHRoaXMub2JzdGFjbGVJbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aGlzLm9ic3RhY2xlSW1nLnNyYyA9IFwiLi9hc3NldHMvYnVzaC5wbmdcIjtcblxuICAgIHRoaXMub2JzdGFjbGVzID0gW1xuICAgICAgdGhpcy5yYW5kb21PYnN0YWNsZShmaXJzdE9ic3RhY2xlRGlzdGFuY2UpLFxuICAgICAgdGhpcy5yYW5kb21PYnN0YWNsZShmaXJzdE9ic3RhY2xlRGlzdGFuY2UgKyBDT05TVEFOVFMuT0JTVEFDTEVfU1BBQ0lORyksXG4gICAgICB0aGlzLnJhbmRvbU9ic3RhY2xlKGZpcnN0T2JzdGFjbGVEaXN0YW5jZSArIChDT05TVEFOVFMuT0JTVEFDTEVfU1BBQ0lORyAqIDIpKVxuICAgIF1cbiAgICBcbiAgfVxuXG4gIGFuaW1hdGUoY3R4KSB7XG4gICAgdGhpcy5kcmF3QmFja2dyb3VuZChjdHgpO1xuICAgIHRoaXMubW92ZVNpZGV3YWxrTGluZXMoKTtcbiAgICB0aGlzLmRyYXdTaWRld2Fsa0xpbmVzKGN0eCk7XG4gICAgdGhpcy5tb3ZlSG90ZG9nU3RhbmQoKTtcbiAgICB0aGlzLmRyYXdIb3Rkb2dTdGFuZChjdHgpO1xuICAgIHRoaXMubW92ZU9ic3RhY2xlcygpO1xuICAgIHRoaXMuZHJhd09ic3RhY2xlcyhjdHgpO1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEJhY2tncm91bmQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vXG4gIGRyYXdCYWNrZ3JvdW5kKGN0eCkge1xuICAgIGN0eC5maWxsU3R5bGUgPSAnI0RERERERCc7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuZGltZW5zaW9ucy53aWR0aCwgdGhpcy5kaW1lbnNpb25zLmhlaWdodClcblxuICAgIGZvcihsZXQgaSA9MTsgaSA8IDQ7IGkrPTEuMykge1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIixcbiAgICAgIGN0eC5saW5lV2lkdGggPSAyLjAsXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKDAsIENPTlNUQU5UUy5FREdFX0JVRkZFUiAqIDMuOCAqIGkpO1xuICAgICAgY3R4LmxpbmVUbyg0ODAsIENPTlNUQU5UUy5FREdFX0JVRkZFUiAqIDMuOCAqIGkpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNpZGV3YWxrTGluZSh4KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IHhcbiAgICB9XG4gIH1cblxuICBtb3ZlU2lkZXdhbGtMaW5lcygpIHtcbiAgICB0aGlzLmVhY2hTaWRld2Fsa0xpbmUobGluZSA9PiB7XG4gICAgICBsaW5lLmxlZnQgLT0gQ09OU1RBTlRTLlNJREVXQUxLX1NQRUVEO1xuICAgIH0pXG5cbiAgICBpZiAodGhpcy5zaWRld2Fsa0xpbmVzWzBdLmxlZnQgPD0gMCkge1xuICAgICAgdGhpcy5zaWRld2Fsa0xpbmVzLnNoaWZ0KCk7XG4gICAgICBjb25zdCBuZXdYID0gdGhpcy5zaWRld2Fsa0xpbmVzWzFdLmxlZnQgKyBDT05TVEFOVFMuU0lERVdBTEtfU1BBQ0lORztcbiAgICAgIHRoaXMuc2lkZXdhbGtMaW5lcy5wdXNoKHRoaXMuc2lkZXdhbGtMaW5lKG5ld1gpKTtcbiAgICB9XG4gIH1cblxuICBkcmF3U2lkZXdhbGtMaW5lcyhjdHgpIHtcbiAgICB0aGlzLmVhY2hTaWRld2Fsa0xpbmUobGluZSA9PiB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gXCJCbGFja1wiO1xuXG4gICAgICBjdHgubGluZVdpZHRoID0gMi4wLFxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKGxpbmUubGVmdCwgMCk7XG4gICAgICBjdHgubGluZVRvKGxpbmUubGVmdCwgNjQwKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGVhY2hTaWRld2Fsa0xpbmUoY2IpIHtcbiAgICB0aGlzLnNpZGV3YWxrTGluZXMuZm9yRWFjaChjYi5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU3RhcnQgU2NyZWVuIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xuICBcbiAgbW92ZUhvdGRvZ1N0YW5kKCkge1xuICAgIHRoaXMuaG90ZG9nU3RhbmQubGVmdCAtPSBDT05TVEFOVFMuU0lERVdBTEtfU1BFRUQ7XG4gIH1cblxuICBkcmF3SG90ZG9nU3RhbmQoY3R4KSB7XG4gICAgY3R4LmRyYXdJbWFnZShcbiAgICAgIHRoaXMuaG90ZG9nU3RhbmQuaW1nLFxuICAgICAgdGhpcy5ob3Rkb2dTdGFuZC5sZWZ0LFxuICAgICAgdGhpcy5ob3Rkb2dTdGFuZC50b3AsXG4gICAgICBDT05TVEFOVFMuSE9URE9HX1NUQU5EX1dJRFRILFxuICAgICAgQ09OU1RBTlRTLkhPVERPR19TVEFORF9IRUlHSFRcbiAgICApO1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIExldmVsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vXG5cbiAgcmFuZG9tT2JzdGFjbGUoeCkge1xuICAgIGNvbnN0IGhlaWdodFJhbmdlID0gdGhpcy5kaW1lbnNpb25zLmhlaWdodCAtICgyICogQ09OU1RBTlRTLkVER0VfQlVGRkVSKSAtIENPTlNUQU5UUy5HQVBfSEVJR0hUO1xuICAgIGNvbnN0IGdhcFRvcCA9IChNYXRoLnJhbmRvbSgpICogaGVpZ2h0UmFuZ2UpICsgQ09OU1RBTlRTLkVER0VfQlVGRkVSO1xuICAgIGNvbnN0IG9ic3RhY2xlID0ge1xuICAgICAgaW1nOiB0aGlzLm9ic3RhY2xlSW1nLFxuXG4gICAgICB0b3BPYnN0YWNsZToge1xuICAgICAgICBsZWZ0OiB4LFxuICAgICAgICByaWdodDogQ09OU1RBTlRTLk9CU1RBQ0xFX1dJRFRIICsgeCxcbiAgICAgICAgdG9wOiBnYXBUb3AgLSBDT05TVEFOVFMuT0JTVEFDTEVfSEVJR0hULFxuICAgICAgICBib3R0b206IGdhcFRvcFxuICAgICAgfSxcbiAgICAgIGJvdHRvbU9ic3RhY2xlOiB7XG4gICAgICAgIGxlZnQ6IHgsXG4gICAgICAgIHJpZ2h0OiBDT05TVEFOVFMuT0JTVEFDTEVfV0lEVEggKyB4LFxuICAgICAgICB0b3A6IGdhcFRvcCArIENPTlNUQU5UUy5HQVBfSEVJR0hULFxuICAgICAgICBib3R0b206IGdhcFRvcCArIENPTlNUQU5UUy5HQVBfSEVJR0hUICsgQ09OU1RBTlRTLk9CU1RBQ0xFX0hFSUdIVFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYnN0YWNsZTtcbiAgfVxuXG4gIG1vdmVPYnN0YWNsZXMoKSB7XG4gICAgdGhpcy5lYWNoT2JzdGFjbGUoIG9ic3RhY2xlID0+IHtcbiAgICAgIG9ic3RhY2xlLnRvcE9ic3RhY2xlLmxlZnQgLT0gQ09OU1RBTlRTLk9CU1RBQ0xFX1NQRUVEO1xuICAgICAgb2JzdGFjbGUudG9wT2JzdGFjbGUucmlnaHQgLT0gQ09OU1RBTlRTLk9CU1RBQ0xFX1NQRUVEO1xuICAgICAgb2JzdGFjbGUuYm90dG9tT2JzdGFjbGUubGVmdCAtPSBDT05TVEFOVFMuT0JTVEFDTEVfU1BFRUQ7XG4gICAgICBvYnN0YWNsZS5ib3R0b21PYnN0YWNsZS5yaWdodCAtPSBDT05TVEFOVFMuT0JTVEFDTEVfU1BFRUQ7XG4gICAgfSlcbiAgICBcbiAgICBpZiAodGhpcy5vYnN0YWNsZXNbMF0udG9wT2JzdGFjbGUucmlnaHQgPD0gMCkge1xuICAgICAgdGhpcy5vYnN0YWNsZXMuc2hpZnQoKTtcbiAgICAgIGNvbnN0IG5ld1ggPSB0aGlzLm9ic3RhY2xlc1sxXS50b3BPYnN0YWNsZS5sZWZ0ICsgQ09OU1RBTlRTLk9CU1RBQ0xFX1NQQUNJTkc7XG4gICAgICB0aGlzLm9ic3RhY2xlcy5wdXNoKHRoaXMucmFuZG9tT2JzdGFjbGUobmV3WCkpO1xuICAgIH1cbiAgfVxuXG4gIGRyYXdPYnN0YWNsZXMoY3R4KSB7XG4gICAgdGhpcy5lYWNoT2JzdGFjbGUob2JzdGFjbGUgPT4ge1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiZ3JlZW5cIjtcblxuICAgICAgLy8gKHgsIHksIHcsIGgpXG4gICAgICBjdHguZHJhd0ltYWdlKFxuICAgICAgICBvYnN0YWNsZS5pbWcsXG4gICAgICAgIG9ic3RhY2xlLnRvcE9ic3RhY2xlLmxlZnQsXG4gICAgICAgIG9ic3RhY2xlLnRvcE9ic3RhY2xlLnRvcCxcbiAgICAgICAgQ09OU1RBTlRTLk9CU1RBQ0xFX1dJRFRILFxuICAgICAgICBvYnN0YWNsZS50b3BPYnN0YWNsZS5ib3R0b20gLSBvYnN0YWNsZS50b3BPYnN0YWNsZS50b3BcbiAgICAgICk7XG5cbiAgICAgIGN0eC5kcmF3SW1hZ2UoXG4gICAgICAgIG9ic3RhY2xlLmltZyxcbiAgICAgICAgb2JzdGFjbGUuYm90dG9tT2JzdGFjbGUubGVmdCxcbiAgICAgICAgb2JzdGFjbGUuYm90dG9tT2JzdGFjbGUudG9wLFxuICAgICAgICBDT05TVEFOVFMuT0JTVEFDTEVfV0lEVEgsXG4gICAgICAgIG9ic3RhY2xlLmJvdHRvbU9ic3RhY2xlLmJvdHRvbSAtIG9ic3RhY2xlLmJvdHRvbU9ic3RhY2xlLnRvcFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIGVhY2hPYnN0YWNsZShjYikge1xuICAgIHRoaXMub2JzdGFjbGVzLmZvckVhY2goY2IuYmluZCh0aGlzKSk7XG4gIH1cblxuIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1DT0xMSVNJT04tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xuICBjb2xsaWRlc1dpdGgocHVwcHkpIHtcbiAgICBsZXQgY29sbGlzaW9uID0gZmFsc2UgXG5cbiAgICBcbiAgICBjb25zdCBfb3ZlcmxhcCA9IChvYnN0YWNsZSwgcHVwcHkpID0+IHtcblxuICAgICAgLy8gY2hlY2sgY2lyY2xlIG9ic3RhY2xlIHRvIHB1cHB5XG5cbiAgICAgIC8vIEZvciBjaXJjbGUgb2JzdGFjbGVzIGZpbmQgdGhlIG1pZGRsZSBwb2ludCBvZiB0aGUgb2JzdGFjbGVcbiAgICAgIGxldCBjZW50ZXJYID0gKChvYnN0YWNsZS5sZWZ0ICsgb2JzdGFjbGUucmlnaHQpIC8gMik7XG4gICAgICBsZXQgY2VudGVyWSA9ICgob2JzdGFjbGUudG9wICsgb2JzdGFjbGUuYm90dG9tKSAvIDIpO1xuICAgICAgbGV0IGNpcmNsZVJhZGl1cyA9IG9ic3RhY2xlLnJpZ2h0IC0gY2VudGVyWDtcblxuICAgICAgLy8gZmluZCBjbG9zZXN0IHBvaW50IGluIHRoZSByZWN0YW5nbGUgdG8gdGhlIGNpcmNsZVxuICAgICAgbGV0IGNsb3Nlc3RYO1xuICAgICAgbGV0IGNsb3Nlc3RZO1xuICAgICAgLy8gY2hlY2sgaWYgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlIGlzIHRvIHRoZSBsZWZ0IG9mIHRoZSByZWN0YW5nbGUgZXRjLlxuICAgICAgaWYgKHB1cHB5LmxlZnQgPiBjZW50ZXJYKSB7XG4gICAgICAgIGNsb3Nlc3RYID0gcHVwcHkubGVmdDtcbiAgICAgIH0gZWxzZSBpZiAocHVwcHkucmlnaHQgPCBjZW50ZXJYKSB7XG4gICAgICAgIGNsb3Nlc3RYID0gcHVwcHkucmlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbG9zZXN0WCA9IGNlbnRlclg7XG4gICAgICB9XG4gICAgICAvLyBjaGVjayBpZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGUgaXMgdG8gdGhlIHRvcCBvZiB0aGUgcmVjdGFuZ2xlIGV0Yy5cbiAgICAgIGlmIChwdXBweS50b3AgPiBjZW50ZXJZKSB7XG4gICAgICAgIGNsb3Nlc3RZID0gcHVwcHkudG9wO1xuICAgICAgfSBlbHNlIGlmIChwdXBweS5ib3R0b20gPCBjZW50ZXJZKSB7XG4gICAgICAgIGNsb3Nlc3RZID0gcHVwcHkuYm90dG9tO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xvc2VzdFkgPSBjZW50ZXJZO1xuICAgICAgfVxuXG4gICAgICAvLyBjaGVjayBpZiB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgb2JzdGFjbGUgaXMgaW5zaWRlIHRoZSBjaXJjbGUgIFxuICAgICAgbGV0IGRpc3QgPSBNYXRoLmh5cG90KGNsb3Nlc3RYIC0gY2VudGVyWCwgY2xvc2VzdFkgLSBjZW50ZXJZKTtcbiAgICAgIFxuICAgICAgaWYgKCBkaXN0IDwgY2lyY2xlUmFkaXVzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAvLyBjaGVjayByZWN0YW5nbGUgb2JzdGFjbGUgdG8gcHVwcHlcbiAgICAgIC8vIGlmICgob2JzdGFjbGUubGVmdCArIDEwKSA+IHB1cHB5LnJpZ2h0IHx8IChvYnN0YWNsZS5yaWdodCAtIDEwKSA8IHB1cHB5LmxlZnQgfHxcbiAgICAgIC8vICAgICAob2JzdGFjbGUudG9wICsgMTApID4gcHVwcHkuYm90dG9tIHx8IChvYnN0YWNsZS5ib3R0b20gLSAxMCkgPCBwdXBweS50b3ApXG4gICAgICAvLyB7XG4gICAgICAvLyAgIHJldHVybiBmYWxzZTtcbiAgICAgIC8vIH1cblxuICAgICAgLy8gcmV0dXJuIHRydWU7XG4gICAgfTtcblxuXG4gICAgdGhpcy5lYWNoT2JzdGFjbGUob2JzdGFjbGUgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBfb3ZlcmxhcChvYnN0YWNsZS50b3BPYnN0YWNsZSwgcHVwcHkpIHx8IFxuICAgICAgICBfb3ZlcmxhcChvYnN0YWNsZS5ib3R0b21PYnN0YWNsZSwgcHVwcHkpXG4gICAgICApIHsgY29sbGlzaW9uID0gdHJ1ZTsgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNvbGxpc2lvbjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMZXZlbDsiLCJjbGFzcyBQdXBweSB7XG4gIGNvbnN0cnVjdG9yKGRpbWVuc2lvbnMpIHtcbiAgICB0aGlzLmRpbWVuc2lvbnMgPSBkaW1lbnNpb25zO1xuICAgIHRoaXMueCA9IHRoaXMuZGltZW5zaW9ucy53aWR0aCAvIDM7XG4gICAgdGhpcy55ID0gdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDEuNTtcbiAgICB0aGlzLnNjclg7XG4gICAgdGhpcy5zY3JZO1xuICAgIHRoaXMuc2hlZXRXaWR0aCA9IDI2NjtcbiAgICB0aGlzLnNoZWV0SGVpZ2h0ID0gMjAwO1xuICAgIHRoaXMuZnJhbWVDb3VudCA9IDI7XG4gICAgdGhpcy53aWR0aCA9IHRoaXMuc2hlZXRXaWR0aCAvIHRoaXMuZnJhbWVDb3VudDtcbiAgICB0aGlzLmhlaWdodCA9IHRoaXMuc2hlZXRIZWlnaHQgLyB0aGlzLmZyYW1lQ291bnQ7XG4gICAgdGhpcy5jdXJyZW50RnJhbWUgPSAwO1xuXG4gICAgdGhpcy5wdXBweUltZyA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMucHVwcHlJbWcuc3JjID0gXCIuL2Fzc2V0cy9ydW4tY29yZ2ktMi5wbmdcIjtcbiAgfVxuXG4gIG1vdmVQdXBweShkZWx0YVgsIGRlbHRhWSkge1xuICAgIHRoaXMueCArPSBkZWx0YVg7XG4gICAgdGhpcy55ICs9IGRlbHRhWTtcbiAgfVxuXG4gIGFuaW1hdGUoY3R4KSB7XG4gICAgdGhpcy5wdXBweUlEID0gc2V0SW50ZXJ2YWwoKCkgPT4geyB0aGlzLmRyYXdQdXBweShjdHgpOyB9LCAzMDApO1xuICB9XG4gXG4gIHVwZGF0ZUZyYW1lKCkge1xuICAgIHRoaXMuY3VycmVudEZyYW1lID0gKyt0aGlzLmN1cnJlbnRGcmFtZSAlIHRoaXMuZnJhbWVDb3VudDtcbiAgICB0aGlzLnNyY1ggPSB0aGlzLmN1cnJlbnRGcmFtZSAqIHRoaXMud2lkdGg7XG4gICAgdGhpcy5zcmNZID0gMDtcbiAgfVxuXG4gIGRyYXdQdXBweShjdHgpIHtcbiAgICB0aGlzLnVwZGF0ZUZyYW1lKCk7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCA0ODAsIDY0MCk7XG4gICAgY3R4LmRyYXdJbWFnZShcbiAgICAgIHRoaXMucHVwcHlJbWcsXG4gICAgICB0aGlzLnNyY1gsXG4gICAgICB0aGlzLnNyY1ksXG4gICAgICB0aGlzLndpZHRoLFxuICAgICAgdGhpcy5oZWlnaHQsXG4gICAgICB0aGlzLngsXG4gICAgICB0aGlzLnksXG4gICAgICB0aGlzLndpZHRoLFxuICAgICAgdGhpcy5oZWlnaHRcbiAgICApXG4gIH1cblxuICBib3VuZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IHRoaXMueCArIDIwLFxuICAgICAgcmlnaHQ6IHRoaXMueCArIDEwMCxcbiAgICAgIGJvdHRvbTogdGhpcy55ICsgODIsXG4gICAgICB0b3A6IHRoaXMueSArIDIwLFxuICAgIH1cbiAgfVxuXG4gIG91dE9mQm91bmRzKCkge1xuICAgIGNvbnN0IGFib3ZlVG9wID0gdGhpcy55IDwgMDtcbiAgICBjb25zdCBiZWxvd0JvdHRvbSA9IHRoaXMueSArIDgyID4gdGhpcy5kaW1lbnNpb25zLmhlaWdodDtcbiAgICByZXR1cm4gYWJvdmVUb3AgfHwgYmVsb3dCb3R0b207XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBQdXBweTsiLCJpbXBvcnQgTGV2ZWwgZnJvbSAnLi9sZXZlbCc7XG5pbXBvcnQgUHVwcHkgZnJvbSAnLi9wdXBweSc7XG5cbmNvbnN0IENPTlNUQU5UUyA9IHtcbiAgUFVQUFlfVkVMT0NJVFk6IC0yNSxcbn07XG5cbmNsYXNzIEdhbWUge1xuICBjb25zdHJ1Y3RvcihjYW52YXMsIHBsYXllckNhbnZhcykge1xuICAgIHRoaXMuY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICB0aGlzLnBsYXllckN0eCA9IHBsYXllckNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgdGhpcy5kaW1lbnNpb25zID0geyB3aWR0aDogY2FudmFzLndpZHRoLCBoZWlnaHQ6IGNhbnZhcy5oZWlnaHQgfTtcbiAgICBcbiAgICB0aGlzLmxvc2UgPSBmYWxzZTsgIFxuICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgIFxuICAgIHRoaXMucGxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdWRpby1idXR0b24nKTtcbiAgICB0aGlzLmF1ZGlvQ29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgICB0aGlzLmF1ZGlvRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdWRpby1iYWNrZ3JvdW5kJyk7XG4gICAgdGhpcy50cmFjayA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSh0aGlzLmF1ZGlvRWxlbWVudCk7XG4gICAgXG4gICAgdGhpcy5zY29yZSA9IDA7XG5cbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnRzKCk7XG4gICAgdGhpcy5yZXN0YXJ0KCk7XG4gIH1cblxuICBwbGF5KCkge1xuICAgIHRoaXMucnVubmluZyA9IHRydWU7XG4gICAgdGhpcy5hbmltYXRlKCk7XG4gIH1cblxuICByZXN0YXJ0KCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzdGFydC1tc2dcIilbMF0uc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIHRoaXMubG9zZSA9IGZhbHNlO1xuICAgIHRoaXMucHVwcHkgPSBuZXcgUHVwcHkodGhpcy5kaW1lbnNpb25zKTtcbiAgICB0aGlzLmxldmVsID0gbmV3IExldmVsKHRoaXMuZGltZW5zaW9ucyk7XG4gICAgdGhpcy5hbmltYXRlKCk7XG4gICAgdGhpcy5wdXBweS5hbmltYXRlKHRoaXMucGxheWVyQ3R4KTtcbiAgfVxuXG4gIHVwZGF0ZVNjb3JlKCkge1xuICAgIGlmICh0aGlzLmxvc2UgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLnNjb3JlICs9IDE7XG4gICAgfSBcblxuICAgIGxldCByYXdTY29yZSA9IE51bWJlcih0aGlzLnNjb3JlKTtcbiAgICBsZXQgbSA9IE1hdGguZmxvb3IocmF3U2NvcmUgJSAzNjAwIC8gNjApO1xuICAgIGxldCBzID0gTWF0aC5mbG9vcihyYXdTY29yZSAlIDM2MDAgJSA2MCk7XG4gICAgbGV0IGZvcm1hdHRlZFNjb3JlID0gKCcwJyArIG0pLnNsaWNlKC0yKSArIFwiOlwiICsgKCcwJyArIHMpLnNsaWNlKC0yKTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0aW1lclwiKVswXS5pbm5lckhUTUwgPSBmb3JtYXR0ZWRTY29yZTtcbiAgfVxuXG4gIHJlZ2lzdGVyRXZlbnRzKCkge1xuICAgIHRoaXMuYm91bmRLZXlQcmVzc2VkSGFuZGxlciA9IHRoaXMua2V5UHJlc3NlZC5iaW5kKHRoaXMpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuYm91bmRLZXlQcmVzc2VkSGFuZGxlcik7XG4gICAgXG4gICAgdGhpcy5ib3VuZFBsYXlCdXR0b25QcmVzc2VkSGFuZGxlciA9IHRoaXMucGxheUJ1dHRvblByZXNzZWQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnBsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuYm91bmRQbGF5QnV0dG9uUHJlc3NlZEhhbmRsZXIpO1xuICB9XG5cbiAga2V5UHJlc3NlZChlKSB7XG5cbiAgICBpZiAoIXRoaXMucnVubmluZykge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInN0YXJ0LW1zZ1wiKVswXS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB0aGlzLnNjb3JlSUQgPSBzZXRJbnRlcnZhbCh0aGlzLnVwZGF0ZVNjb3JlLmJpbmQodGhpcyksIDUwMCk7XG4gICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuICAgICAgdGhpcy5wbGF5KCk7XG5cbiAgICAgIC8vIGxldCBlID0gdGhpcy5wbGF5QnV0dG9uLmNsaWNrKCk7XG4gICAgICAvLyB0aGlzLnBsYXlCdXR0b25QcmVzc2VkKGUpO1xuICAgIH1cblxuICAgIGxldCBrZXkgPSBlLmtleSB8fCBlLmtleWNvZGU7XG5cbiAgICBpZiAoa2V5ICE9ICdFc2NhcGUnIHx8IGtleSAhPSAnRXNjJyB8fCBrZXkgIT0gMjcpIHtcbiAgICAgIGlmIChrZXkgPT09IDM4IHx8IGtleSA9PSBcIkFycm93VXBcIikge1xuICAgICAgICB0aGlzLnB1cHB5Lm1vdmVQdXBweSgwLCBDT05TVEFOVFMuUFVQUFlfVkVMT0NJVFkpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09IDQwIHx8IGtleSA9PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgIHRoaXMucHVwcHkubW92ZVB1cHB5KDAsIE1hdGguYWJzKENPTlNUQU5UUy5QVVBQWV9WRUxPQ0lUWSkpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09IDM3IHx8IGtleSA9PSBcIkFycm93TGVmdFwiKSB7XG4gICAgICAgIHRoaXMucHVwcHkubW92ZVB1cHB5KENPTlNUQU5UUy5QVVBQWV9WRUxPQ0lUWSwgMCk7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gMzkgfHwga2V5ID09IFwiQXJyb3dSaWdodFwiKSB7XG4gICAgICAgIHRoaXMucHVwcHkubW92ZVB1cHB5KE1hdGguYWJzKENPTlNUQU5UUy5QVVBQWV9WRUxPQ0lUWSksIDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHBsYXlCdXR0b25QcmVzc2VkKGUpIHtcbiAgICB0aGlzLnRyYWNrLmNvbm5lY3QodGhpcy5hdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIHRoaXMuYXVkaW9FbGVtZW50LmNyb3NzT3JpZ2luID0gXCJhbm9ueW1vdXNcIjtcbiAgICBcbiAgICBpZiAodGhpcy5hdWRpb0NvbnRleHQuc3RhdGUgPT09ICdzdXNwZW5kZWQnKSB7XG4gICAgICB0aGlzLmF1ZGlvQ29udGV4dC5yZXN1bWUoKTtcbiAgICB9XG4gICAgaWYgKGUuY3VycmVudFRhcmdldC5kYXRhc2V0LnBsYXlpbmcgPT09ICdmYWxzZScpIHtcbiAgICAgIHRoaXMuYXVkaW9FbGVtZW50LnBsYXkoKTtcbiAgICAgIGUuY3VycmVudFRhcmdldC5kYXRhc2V0LnBsYXlpbmcgPSAndHJ1ZSc7XG4gICAgfSBlbHNlIGlmIChlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5wbGF5aW5nID09PSAndHJ1ZScpIHtcbiAgICAgIHRoaXMuYXVkaW9FbGVtZW50LnBhdXNlKCk7XG4gICAgICBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5wbGF5aW5nID0gJ2ZhbHNlJztcbiAgICB9XG4gIH1cblxuICAvLyBzZXR1cCBoaWdoc2NvcmVzIGluIGxvY2Fsc3RvcmVhZ2VcbiAgLy8gY3JlZGl0OiBodHRwczovL3d3dy5kZXZlbG9wZXJkcml2ZS5jb20vMjAxMy8wOS9odG1sNS1qYXZhc2NyaXB0LWdlbS1nYW1lLXdpdGgtc2F2ZWQtc2NvcmVib2FyZC9cbiAgaGlnaFNjb3JlcygpIHtcbiAgICBsZXQgaGlnaF9zY29yZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlYWRlcmJvYXJkXCIpO1xuICAgIGlmICh0eXBlb2YgKFN0b3JhZ2UpICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBsZXQgc2NvcmVzID0gZmFsc2U7XG4gICAgICBpZiAobG9jYWxTdG9yYWdlW1wiaGlnaC1zY29yZXNcIl0pIHtcbiAgICAgICAgaGlnaF9zY29yZXMuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgaGlnaF9zY29yZXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHNjb3JlcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW1wiaGlnaC1zY29yZXNcIl0pO1xuICAgICAgICBzY29yZXMgPSBzY29yZXMuc29ydCgoYSwgYikgPT4geyByZXR1cm4gcGFyc2VJbnQoYikgLSBwYXJzZUludChhKSB9KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICBsZXQgcyA9IHNjb3Jlc1tpXTtcbiAgICAgICAgICBsZXQgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgIGZyYWdtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbGVhZGVyJyk7XG4gICAgICAgICAgZnJhZ21lbnQuaW5uZXJIVE1MID0gKHR5cGVvZiAocykgIT0gXCJ1bmRlZmluZWRcIiA/IHMgOiBcIlwiKTtcbiAgICAgICAgICBoaWdoX3Njb3Jlcy5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGlnaF9zY29yZXMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVNjb3JlcygpIHtcbiAgICBpZiAodHlwZW9mIChTdG9yYWdlKSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgbGV0IGN1cnJlbnQgPSBwYXJzZUludCh0aGlzLnNjb3JlKTtcbiAgICAgIGxldCBzY29yZXMgPSBmYWxzZTtcbiAgICAgIGlmIChsb2NhbFN0b3JhZ2VbXCJoaWdoLXNjb3Jlc1wiXSkge1xuICAgICAgICBzY29yZXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVtcImhpZ2gtc2NvcmVzXCJdKTtcbiAgICAgICAgc2NvcmVzID0gc2NvcmVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIHBhcnNlSW50KGIpIC0gcGFyc2VJbnQoYSkgfSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICAgbGV0IHMgPSBwYXJzZUludChzY29yZXNbaV0pO1xuXG4gICAgICAgICAgbGV0IHZhbCA9ICghaXNOYU4ocykgPyBzIDogMCk7XG4gICAgICAgICAgaWYgKGN1cnJlbnQgPiB2YWwpIHtcbiAgICAgICAgICAgIHZhbCA9IGN1cnJlbnQ7XG4gICAgICAgICAgICBzY29yZXMuc3BsaWNlKGksIDAsIHBhcnNlSW50KGN1cnJlbnQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3Jlcy5sZW5ndGggPSAxMDtcbiAgICAgICAgbG9jYWxTdG9yYWdlW1wiaGlnaC1zY29yZXNcIl0gPSBKU09OLnN0cmluZ2lmeShzY29yZXMpO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgc2NvcmVzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHNjb3Jlc1swXSA9IGN1cnJlbnQ7XG4gICAgICAgIGxvY2FsU3RvcmFnZVtcImhpZ2gtc2NvcmVzXCJdID0gSlNPTi5zdHJpbmdpZnkoc2NvcmVzKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5oaWdoU2NvcmVzKCk7XG4gICAgfVxuICB9XG5cblxuICBnYW1lT3ZlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5sZXZlbC5jb2xsaWRlc1dpdGgodGhpcy5wdXBweS5ib3VuZHMoKSkgfHwgdGhpcy5wdXBweS5vdXRPZkJvdW5kcyh0aGlzLmhlaWdodClcbiAgICApO1xuICB9XG5cbiAgYW5pbWF0ZSgpIHtcbiAgICB0aGlzLmxldmVsLmFuaW1hdGUodGhpcy5jdHgpO1xuXG4gICAgaWYgKHRoaXMuZ2FtZU92ZXIoKSkge1xuICAgICAgdGhpcy5sb3NlID0gdHJ1ZTtcbiAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgICAgYWxlcnQodGhpcy5zY29yZSk7XG4gICAgICB0aGlzLnVwZGF0ZVNjb3JlcygpO1xuICAgICAgdGhpcy5zY29yZSA9IDA7XG4gICAgICBjbGVhckludGVydmFsKHB1cHB5LnB1cHB5SUQpO1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnNjb3JlSUQpO1xuICAgICAgdGhpcy5yZXN0YXJ0KCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucnVubmluZykge1xuICAgICAgdGhpcy5yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlLmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuICBcbn1cblxuZXhwb3J0IGRlZmF1bHQgR2FtZTsiLCJpbXBvcnQgQ2hpbGlEb2cgZnJvbSAnLi9nYW1lJztcbmltcG9ydCB7IGluaGVyaXRzIH0gZnJvbSAndXRpbCc7XG5cbmNvbnN0IGJhY2tncm91bmRDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hpbGktZG9nLWdhbWUnKTtcbmNvbnN0IHBsYXllckNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXInKTtcblxubmV3IENoaWxpRG9nKGJhY2tncm91bmRDYW52YXMsIHBsYXllckNhbnZhcyk7XG4iXSwic291cmNlUm9vdCI6IiJ9